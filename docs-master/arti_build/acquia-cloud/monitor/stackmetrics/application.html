
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>StackMetrics - Application &#8212; Acquia Help Center</title>
    <link rel="stylesheet" href="../../../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/custom.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/foundation-sphinx.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     '1.0.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../../../_static/what-input/what-input.min.js"></script>
    <script type="text/javascript" src="../../../_static/foundation-sites/foundation.min.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" /> 
  </head>
  <body>

    
<header>
<div class="topbar">
    <div class="col left">
        <a href="/" title="Acquia Help Center Home" class="logo">Acquia Help Center</a>
    </div>
    <div class="col right">
      <ul class="main-nav">
        <li>
          <a href="https://www.acquia.com" title="Go to www.acquia.com for our latest information.">Acquia.com</a>
        </li>
        <li>
            <a href="https://dev.acquia.com" title="Acquia's Developer Center: developers.acquia.com">Developers</a>
        </li>
        <li>
            <a href="https://training.acquia.com" title="Go to training.acquia.com to find out about courses and certifications.">Training</a>
        </li>
        <li>
            <a href="/site-search" data-drupal-link-system-path="site-search">Search</a>
        </li>
      </ul>
    </div>
</div>
<div class="bottombar">
    <div class="searchbar-wrapper">
        <form action="search.html" method="get" class="searchbar">
            <div class="search-title">Need help finding something? <strong>Start Here.</strong></div>
            <div class="search-box">
                <input type="search" name="q" maxlength="128" size="15" value="" class="st-default-search-input">
                <input type="hidden" name="check_keywords" value="yes">
                <input type="hidden" name="area" value="default">
            </div>
            <div class="search-btn">
                <input class="btn-search button" type="submit" id="edit-submit-acquia-search" value="Search Docs">
            </div>
        </form>
    </div>
	</div>
</header>



    
<div class="breadcrumbs-wrapper">
	<ul>
        
        <li><a href="../../../index.html">Home</a></li>
        
        <li class="current">StackMetrics - Application</li>
	</ul>
</div>


<div class="row">
    
        
  <div class="small-4 large-3 columns" id="sidebar" data-sticky-container>
      <div class="sticky" data-sticky data-margin-top="0"><ul>
<li class="toctree-l1"><a class="reference internal" href="../../../acquia-cloud.html">Acquia Cloud</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../edge.html">Acquia Cloud Edge</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../shield.html">Acquia Cloud Shield</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../site-factory.html">Acquia Cloud Site Factory</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../commerce.html">Acquia Commerce Manager</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../dam.html">Acquia DAM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../dev-desktop.html">Acquia Dev Desktop</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../journey.html">Acquia Journey</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../lift.html">Acquia Lift</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../api.html">Acquia Platform APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../acquia-search.html">Acquia Search</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../devtools.html">Developer tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../lightning.html">Lightning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../support.html">Acquia Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ra.html">Remote Administration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../resource.html">Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../tutorials.html">Acquia Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../guide.html">Products and Services Guide</a></li>
</ul>

      </div>
  </div>
    
    <div id="content" class="small-8 large-9 columns">
        
            
  <div class="section" id="stackmetrics-application">
<h1>StackMetrics - Application<a class="headerlink" href="#stackmetrics-application" title="Permalink to this headline">¶</a></h1>
<div class="internal-navigation docutils container">
<p><strong>Using Stack Metrics graphs</strong></p>
<ul class="simple">
<li><a class="reference internal" href="../stackmetrics.html"><span class="doc">Intro</span></a></li>
<li><a class="reference internal" href="load-balancing.html"><span class="doc">Load</span></a></li>
<li>App</li>
<li><a class="reference internal" href="databases.html"><span class="doc">Database</span></a></li>
<li><a class="reference internal" href="file-system.html"><span class="doc">File</span></a></li>
<li><a class="reference internal" href="additional.html"><span class="doc">Metrics</span></a></li>
</ul>
</div>
<p>Your application-tier instances are responsible for processing all of
the logic for your application, including calls to the file system and
database tiers, and calls to external services your application may use
to process data or add content to your websites.</p>
<div class="section" id="application-metrics">
<span id="metrics"></span><h2>Application metrics<a class="headerlink" href="#application-metrics" title="Permalink to this headline">¶</a></h2>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Graph</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><a class="reference external" href="#requests">Requests count</a></td>
<td>Total number of requests made to Apache</td>
</tr>
<tr class="row-odd"><td><a class="reference external" href="#cpu">CPU usage</a></td>
<td>CPU usage for each of the environment’s web servers, as a percentage of the total available</td>
</tr>
<tr class="row-even"><td><a class="reference external" href="#cpu">Memory usage</a></td>
<td>Memory usage for each of the environment’s web servers, as a percentage of the total available</td>
</tr>
<tr class="row-odd"><td><a class="reference external" href="#cron">Cron memory usage in MB</a></td>
<td>Memory usage by cron for each of the environment’s web servers, in MB</td>
</tr>
<tr class="row-even"><td><a class="reference external" href="#php">PHP process count</a></td>
<td>Number of PHP processes in use for the website</td>
</tr>
<tr class="row-odd"><td><a class="reference external" href="#max-php">“Maximum PHP processes reached” errors</a></td>
<td>This warning is generated by PHP, and indicates that a request came in which PHP could not immediately handle.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="troubleshooting">
<h2>Troubleshooting<a class="headerlink" href="#troubleshooting" title="Permalink to this headline">¶</a></h2>
<p>Use the information in this section to help you troubleshoot
application-related issues with your Acquia Cloud application.</p>
<ul>
<li><p class="first"><strong>Requests count</strong>
This number indicates how many requests have bypassed Varnish and hit
Apache on your server, which could be for media files, theme files,
or pages generated by your application.
This data is useful primarily as context for when sudden changes are
seen in other metrics. For example, if a spike in CPU, memory, or PHP
processes is indicated but there is no associated spike in this
metric, something other than traffic may be causing that behavior.</p>
</li>
<li><p class="first"><strong>CPU usage</strong> and <strong>Memory usage</strong>
These metrics can be used to determine how close to capacity your
web-tier instances are, and they are often impacted by traffic
levels, cron activity, and calls to third-party services associated
with cron jobs and web requests.</p>
<ul class="simple">
<li>If the CPU or memory spikes are associated with traffic,
increasing your application’s caching settings (which includes
<a class="reference external" href="/acquia-cloud/performance/memcached">implementing or optimizing Memcache
utilization</a>) can
significantly reduce CPU and memory consumption.</li>
<li>CPU or memory spikes may also be associated with frequent or
resource-intensive cron jobs. Reducing the frequency or complexity
of cron tasks can immediately reduce CPU and memory consumption.</li>
<li><a class="reference external" href="/acquia-cloud/monitor/apm">Utilize an Application Performance Monitoring
service</a> (such as New Relic) to
identify if the spikes in CPU or memory are associated with
specific calls on your website. Optimizing the performance of
specific pages can often reduce application CPU and memory
utilization, especially if those pages are popular destinations
for your end users. As an alternative, if external calls are
utilizing all of your CPU or memory, <a class="reference external" href="/support#contact">contact Acquia
Support</a> for assistance.</li>
</ul>
<p>If it is determined that additional CPU or memory are required for
your applications to remain performant, either manually <a class="reference external" href="/acquia-cloud/manage/servers">increase
your server size</a>, or <a class="reference external" href="/support#contact">contact
Acquia Support</a> to determine what options are
available.</p>
</li>
<li><p class="first"><strong>Cron memory usage in MB</strong>
This graph displays the amount of memory that is utilized by <a class="reference external" href="/acquia-cloud/manage/cron">cron
processes</a> on your instances at any
given point in time. Spikes in memory utilization generally indicate
when cron jobs are actively running. In general, cron jobs will
always run on the instance with the lowest number in its name.
Spikes in cron memory utilization can lead to spikes in the CPU or
memory utilization of your instances, especially when too many jobs
are run concurrently, in rapid succession, or if the cron task is
expected to complete too much work in a single job. If you notice
that cron jobs are causing memory or CPU exhaustion on your
instances, attempt to reduce the amount of work assigned to that
task, or consider modifying the frequency to minimize the impact of
these tasks on the health of your application-tier instances.
Some Acquia Cloud customers have access to dedicated instances
which have been reserved for cron-related activity. In this
configuration, the health of these instances will not impact
web-related activity. However, if there are insufficient resources on
these instances to complete the cron jobs associated with your
applications, the tasks may fail to run or finish properly.</p>
</li>
<li><p class="first"><strong>PHP process count</strong>
PHP processes are the individual workers assigned to serve each page
request which hits your web tier. Every process utilizes as much CPU
as is needed to complete a page request, plus a portion of your
server’s memory, up to the limit set by default on your instance
(often 128MB) or set by code in your application’s <code class="docutils literal"><span class="pre">settings.php</span></code>
file. This graph displays both the total number of PHP processes
across all instances in your web tier and the number of PHP processes
utilized by the specific environment. On instances with only one
active environment, Acquia Cloud will display only the total
value.
This data is can be useful in conjunction with the <strong>“Maximum PHP
processes reached” errors</strong>, the <strong>CPU usage</strong>, and the <strong>Memory
usage</strong> graphs. If the <strong>“Maximum PHP processes reached” errors</strong>
graph displays elevated warnings rates, but you are not near 100%
memory utilization, then your web-tier instances or their
environments may require manual retuning by Acquia Support. If you
are experiencing elevated warning rates and high memory utilization,
your server has reached capacity and will require either an upsize or
the same previously noted mitigation steps.</p>
</li>
<li><p class="first"><strong>“Maximum PHP processes reached” errors</strong>
This warning is generated by PHP, and indicates that a request came
in which PHP could not immediately handle due to all available PHP
processes being busy.
When there are a few warnings per minute, performance is generally
unaffected, but during high traffic periods, these can build up,
causing uncached page requests to load more slowly. To reduce the
frequency of these warnings, use the following methods:</p>
<ul class="simple">
<li>Improve page load times using an <a class="reference external" href="/acquia-cloud/monitor/apm">application performance
monitoring tool</a>, such as New Relic</li>
<li>Improve your cache hit ratio</li>
<li>Eliminate <a class="reference external" href="/article/how-fix-slow-queries">slow database
queries</a></li>
<li>Increase the size of your hardware to allow for more PHP processes</li>
</ul>
</li>
</ul>
</div>
</div>


        
    </div>
</div>

    
<div class="row">
    <div class="small-4 large-3 columns"></div>
    <div id="relinks" class="small-8 large-9 columns">
        <div class="pagination-wrapper">
            <div class="prev">
                <a href="../../../genindex.html" title="General Index"><b>‹&nbsp;</b>General Index</a>
            </div>
            
        </div>
    </div>
</div>



    
<div class="assistance-wrapper">
	<div class="assistance-tbl">
		<div class="col">
			<p><img src="/_static/phone.png" alt="Contact support">Still need assistance? <strong><a href="https://docs.acquia.com/support">Contact Acquia Support</a></strong></p>
		</div>
	</div>
</div>
<div class="support">
	<div class="support-tbl">
		<div class="col left">
			<h2><a href="https://www.acquia.com/customer-success/acquia-global-support">Support</a></h2>
			<ul class="no-bullet">
				<li><a class="light-link" href="https://www.acquia.com/support">Contact Support</a></li>
			</ul>
		</div>
		<div class="col middle">
			<h2><a href="https://www.acquia.com/about-us">About Acquia</a></h2>
			<ul class="no-bullet">
				<li><a class="light-link" href="https://www.acquia.com/about-us">About Us</a></li>
				<li><a class="light-link" href="https://www.acquia.com/about-us/leadership">Leadership</a></li>
				<li><a class="light-link" href="https://www.acquia.com/about-us/board">Board of Directors</a></li>
				<li><a class="light-link" href="https://www.acquia.com/investors">Investors</a></li>
				<li><a class="light-link" href="https://www.acquia.com/about-us/newsroom">Newsroom</a></li>
				<li><a class="light-link" href="https://www.acquia.com/careers">Careers</a></li>
				<li><a class="light-link" href="https://www.acquia.com/about-us/contact">Contact Us</a></li>
			</ul>
			<ul class="social-media">
				<li>
					<a class="fa fa-twitter fa-lg ext" href="https://twitter.com/acquia" target="_blank" rel="nofollow">
						<span class="hide">Twitter</span>
					</a>
				</li>
				<li>
					<a class="fa fa-facebook fa-lg ext" href="https://www.facebook.com/acquia" target="_blank" rel="nofollow">
						<span class="hide">Facebook</span>
					</a>
				</li>
				<li>
					<a class="fa fa-github-alt fa-lg ext" href="https://github.com/acquia" target="_blank" rel="nofollow">
						<span class="hide">Github</span>
					</a>
				</li>
				<li>
					<a class="fa fa-linkedin-in fa-lg ext" href="http://www.linkedin.com/company/167056" target="_blank" rel="nofollow">
						<span class="hide">LinkedIn</span>
					</a>
				</li>
				<li>
					<a class="fa fa-google-plus-g fa-lg ext" href="https://plus.google.com/+acquia" target="_blank" rel="nofollow">
						<span class="hide">Google+</span>
					</a>
				</li>
				<li>
					<a class="fa fa-play fa-lg ext" href="https://www.youtube.com/user/AcquiaTV" target="_blank" rel="nofollow">
						<span class="hide">YouTube</span>
					</a>
				</li>
				<li>
					<a class="fa fa-envelope fa-lg" href="https://www.acquia.com/about-us/contact">
						<span class="hide">Contact Us</span>
					</a>
				</li>
			</ul>
		</div>
		<div class="col right">
			<div class="centered">
				<p>
					<img alt="Acquia: Think Ahead" src="/_static/acquia-logo-think-ahead-black-small.svg">
				</p>
				<p class="margin-left-half">
					<span>53 State Street, 10th Floor<br>
					Boston, MA 02109<br>
					United States<br>
					Phone: 888-922-7842</span><br>
					Map: <a class="decorate ext" href="http://maps.google.com/?q=42.358429+-71.056184+%2853+State+Street%2C+10th+Floor%2C+Boston%2C+MA%2C+02109%2C+us%29" target="_blank" rel="nofollow">Google Maps<span class="ext"><span class="element-invisible"> </span></span></a><br><a class="decorate" href="https://www.acquia.com/about-us/contact#block-views-locations-block-1">View other locations</a>
				</p>
			</div>
		</div>
	</div>
</div>
<div class="top-bar row column">
	<div class="footer" role="contentinfo">Copyright &copy 2018 Acquia Inc. All Rights Reserved. </br>Drupal is a registered trademark of <a href="https://dri.es/">Dries Buytaert</a>. All product names, logos, and brands are property of their respective owners.
    </div>
</div>
    </div>

    <script> $(document).foundation() </script>
    <script type="text/javascript">
      (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
      (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
      e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
      })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

      _st('install','2_Wi1aQvEeu61haxG8TX','2.0.0');
    </script>

  </body>
</html>