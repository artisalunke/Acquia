
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Upgrading Drupal core on Acquia Cloud &#8212; Acquia Help Center</title>
    <link rel="stylesheet" href="../../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/foundation-sphinx.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '1.0.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../../_static/what-input/what-input.min.js"></script>
    <script type="text/javascript" src="../../_static/foundation-sites/foundation.min.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Node.js and Acquia Cloud" href="../node-js.html" />
    <link rel="prev" title="Sending updates to your code repository" href="update.html" /> 
  </head>
  <body>

    
<header>
<div class="topbar">
    <div class="col left">
        <a href="/" title="Acquia Help Center Home" class="logo">Acquia Help Center</a>
    </div>
    <div class="col right">
      <ul class="main-nav">
        <li>
          <a href="https://www.acquia.com" title="Go to www.acquia.com for our latest information.">Acquia.com</a>
        </li>
        <li>
            <a href="https://dev.acquia.com" title="Acquia's Developer Center: developers.acquia.com">Developers</a>
        </li>
        <li>
            <a href="https://training.acquia.com" title="Go to training.acquia.com to find out about courses and certifications.">Training</a>
        </li>
        <li>
            <a href="/site-search" data-drupal-link-system-path="site-search">Search</a>
        </li>
      </ul>
    </div>
</div>
<div class="bottombar">
    <div class="searchbar-wrapper">
        <form action="search.html" method="get" class="searchbar">
            <div class="search-title">Need help finding something? <strong>Start Here.</strong></div>
            <div class="search-box">
                <input type="search" name="q" maxlength="128" size="15" value="" class="st-default-search-input">
                <input type="hidden" name="check_keywords" value="yes">
                <input type="hidden" name="area" value="default">
            </div>
            <div class="search-btn">
                <input class="btn-search button" type="submit" id="edit-submit-acquia-search" value="Search Docs">
            </div>
        </form>
    </div>
	</div>
</header>



    
<div class="breadcrumbs-wrapper">
	<ul>
        
        <li><a href="../../index.html">Home</a></li>
        
        <li><a href="../../acquia-cloud.html" >Acquia Cloud</a></li>
        <li><a href="../develop.html" accesskey="U">Developing applications on Acquia Cloud</a></li>
        <li class="current">Upgrading Drupal core on Acquia Cloud</li>
	</ul>
</div>


<div class="row">
    
        
  <div class="small-4 large-3 columns" id="sidebar" data-sticky-container>
      <div class="sticky" data-sticky data-margin-top="0"><ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../../acquia-cloud.html">Acquia Cloud</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../free.html">Getting started with Acquia Cloud Free</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cloud-ui.html">Using the Acquia Cloud interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="../arch.html">Acquia Cloud architecture and key concepts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ready.html">Acquia Cloud onboarding guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../create.html">Creating a new application on Acquia Cloud</a></li>
<li class="toctree-l2"><a class="reference internal" href="../manage.html">Managing applications with Acquia Cloud</a></li>
<li class="toctree-l2"><a class="reference internal" href="../monitor.html">Monitoring your applications and infrastructure</a></li>
<li class="toctree-l2"><a class="reference internal" href="../access.html">Controlling access to Acquia Cloud</a></li>
<li class="toctree-l2"><a class="reference internal" href="../insight.html">Acquia Insight</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../develop.html">Developing applications on Acquia Cloud</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="api.html">Developing with the Cloud API</a></li>
<li class="toctree-l3"><a class="reference internal" href="baseurl.html">Setting $base_url without breaking the Development and Staging environments</a></li>
<li class="toctree-l3"><a class="reference internal" href="checkout.html">Checking out a local copy of your code</a></li>
<li class="toctree-l3"><a class="reference internal" href="clean.html">Copying your code to a new Git repository</a></li>
<li class="toctree-l3"><a class="reference internal" href="code.html">Working with code</a></li>
<li class="toctree-l3"><a class="reference internal" href="config-d8.html">Configuration management for Drupal 8</a></li>
<li class="toctree-l3"><a class="reference internal" href="drupal.html">Developing a Drupal application on Acquia Cloud</a></li>
<li class="toctree-l3"><a class="reference internal" href="env-variable.html">Using environment variables in Drupal code and Drush commands</a></li>
<li class="toctree-l3"><a class="reference internal" href="geoip.html">Using GeoIP information</a></li>
<li class="toctree-l3"><a class="reference internal" href="github.html">Using Acquia Cloud with a remote repository</a></li>
<li class="toctree-l3"><a class="reference internal" href="httprl.html">Using the HTTPRL module</a></li>
<li class="toctree-l3"><a class="reference internal" href="install-module.html">Installing a Drupal module on Acquia Cloud</a></li>
<li class="toctree-l3"><a class="reference internal" href="keys.html">Managing your product keys</a></li>
<li class="toctree-l3"><a class="reference internal" href="ldap.html">Using LDAP with an Acquia Cloud application</a></li>
<li class="toctree-l3"><a class="reference internal" href="ldaps.html">Configuring LDAPS</a></li>
<li class="toctree-l3"><a class="reference internal" href="livedev.html">Using Live Development mode to change code on your server</a></li>
<li class="toctree-l3"><a class="reference internal" href="livedev-workflow.html">Live Development workflow</a></li>
<li class="toctree-l3"><a class="reference internal" href="mobile.html">Enabling device-based redirects</a></li>
<li class="toctree-l3"><a class="reference internal" href="module-update-alerts.html">Stopping non-production environments from sending module update alerts</a></li>
<li class="toctree-l3"><a class="reference internal" href="non-drupal.html">Adding non-Drupal PHP extensions or libraries to your application</a></li>
<li class="toctree-l3"><a class="reference internal" href="pipelines.html">Using pipelines for site development and testing</a></li>
<li class="toctree-l3"><a class="reference internal" href="publish.html">Publishing your application</a></li>
<li class="toctree-l3"><a class="reference internal" href="repository.html">Using your code repository</a></li>
<li class="toctree-l3"><a class="reference internal" href="requestid.html">Using HTTP request IDs</a></li>
<li class="toctree-l3"><a class="reference internal" href="rsync.html">rsyncing files on Acquia Cloud</a></li>
<li class="toctree-l3"><a class="reference internal" href="update.html">Sending updates to your code repository</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Upgrading Drupal core on Acquia Cloud</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../node-js.html">Node.js and Acquia Cloud</a></li>
<li class="toctree-l2"><a class="reference internal" href="../container.html">Containers in Acquia Cloud</a></li>
<li class="toctree-l2"><a class="reference internal" href="../performance.html">Improving application performance</a></li>
<li class="toctree-l2"><a class="reference internal" href="../subs.html">Managing subscriptions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cd.html">Acquia Cloud CD</a></li>
<li class="toctree-l2"><a class="reference internal" href="../glossary.html">Acquia Cloud glossary</a></li>
<li class="toctree-l2"><a class="reference internal" href="../known-issues.html">Known issues in Acquia Cloud</a></li>
<li class="toctree-l2"><a class="reference internal" href="../release-notes.html">Release notes - Acquia Cloud</a></li>
<li class="toctree-l2"><a class="reference internal" href="../self-service-scaling.html">Using a Cloud Service Management plan</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ssl.html">Enabling SSL</a></li>
<li class="toctree-l2"><a class="reference internal" href="../teams.html">Managing users, teams, roles, and permissions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../edge.html">Acquia Cloud Edge</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../shield.html">Acquia Cloud Shield</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../site-factory.html">Acquia Cloud Site Factory</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../commerce.html">Acquia Commerce Manager</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dam.html">Acquia DAM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dev-desktop.html">Acquia Dev Desktop</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../journey.html">Acquia Journey</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../lift.html">Acquia Lift</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api.html">Acquia Platform APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../acquia-search.html">Acquia Search</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../devtools.html">Developer tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../lightning.html">Lightning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../support.html">Acquia Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ra.html">Remote Administration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../resource.html">Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials.html">Acquia Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../guide.html">Products and Services Guide</a></li>
</ul>

      </div>
  </div>
    
    <div id="content" class="small-8 large-9 columns">
        
            
  <div class="section" id="upgrading-drupal-core-on-acquia-product-ac">
<h1>Upgrading Drupal core on Acquia Cloud<a class="headerlink" href="#upgrading-drupal-core-on-acquia-product-ac" title="Permalink to this headline">¶</a></h1>
<p>From time to time, you will need to upgrade Drupal core in your
Acquia Cloud applications. This may occur when there are new
Drupal core features that you want or security updates that you need.</p>
<p>This page describes two ways to upgrade Drupal core:</p>
<ul class="simple">
<li><a class="reference external" href="#devdesktop">Upgrading with |acquia-product:add|</a></li>
<li><a class="reference external" href="#git">Upgrading with Git</a></li>
</ul>
<div class="section" id="upgrading-drupal-7-with-acquia-product-add">
<span id="devdesktop"></span><h2>Upgrading Drupal 7 with Acquia Dev Desktop<a class="headerlink" href="#upgrading-drupal-7-with-acquia-product-add" title="Permalink to this headline">¶</a></h2>
<p>The easiest way to upgrade Drupal 7 core for an Acquia Cloud
application is to use <a class="reference external" href="/dev-desktop">|acquia-product:add|</a>, which
provides a full Drupal-specific stack that includes Apache, MySQL, and
PHP. You can use Acquia Dev Desktop to develop Drupal applications
locally on your computer, and then sync it with the same application on
Acquia Cloud. Since it is closely integrated with
Acquia Cloud, using Acquia Dev Desktop can be the easiest way
to import your application into Acquia Cloud. This section
assumes that you have already <a class="reference external" href="/dev-desktop/install">installed
|acquia-product:add|</a> and <a class="reference external" href="/dev-desktop/cloud">synced
it</a> with your applications on
Acquia Cloud.</p>
<p>First, upgrade Drupal core on the local environment with
Acquia Dev Desktop:</p>
<ol class="arabic">
<li><p class="first">In Acquia Dev Desktop, select the application you want to upgrade.</p>
</li>
<li><p class="first">Next to <strong>Local code</strong>, click the <strong>Open Drush console</strong> button.</p>
</li>
<li><p class="first">In the Drush console, run this command:</p>
<p><code class="docutils literal"><span class="pre">drush</span> <span class="pre">up</span></code></p>
<p>Drush upgrades Drupal core to the latest release.</p>
</li>
<li><p class="first">Next to <strong>Local site</strong>, click the URL link. Your upgraded Drupal
application opens in a browser window. You can test this local copy
of your upgraded Drupal application before you sync it with your
Acquia Cloud Development environment.</p>
</li>
</ol>
<p>Next, sync the local copy of your upgraded Drupal application with your
Acquia Cloud Development environment:</p>
<ol class="arabic simple">
<li>In Acquia Dev Desktop, select <strong>Push to Cloud Dev</strong>, and select the
<strong>Code</strong> checkbox.</li>
<li>Click <strong>Push code to Cloud Dev</strong>.</li>
<li>Acquia Dev Desktop pushes your upgraded Drupal application to the
Acquia Cloud Development environment and commits the code to
the Acquia Cloud code repository.</li>
</ol>
</div>
<div class="section" id="upgrading-with-git">
<span id="git"></span><h2>Upgrading with Git<a class="headerlink" href="#upgrading-with-git" title="Permalink to this headline">¶</a></h2>
<p>To upgrade Drupal 8, if you use a Git repository:</p>
<ol class="arabic">
<li><p class="first">Download the <a class="reference external" href="https://www.drupal.org/project/drupal">latest version of Drupal
8</a>.</p>
</li>
<li><p class="first">Ensure that any upstream changes to the <code class="docutils literal"><span class="pre">docroot</span></code> directory are
pulled into your local working directory and that you have no locally
modified, added, or deleted files.</p>
<p><code class="docutils literal"><span class="pre">git</span> <span class="pre">pull</span></code></p>
<p>If you have any locally modified, added, or deleted files, resolve
any conflicts before you move on in the procedure.</p>
</li>
<li><p class="first">Remove the <code class="docutils literal"><span class="pre">core</span></code> and <code class="docutils literal"><span class="pre">vendor</span></code> directories. Also remove all of
the files in the top-level directory, except any that you added
manually.</p>
<p><code class="docutils literal"><span class="pre">rm</span> <span class="pre">-rf</span> <span class="pre">core</span> <span class="pre">vendor</span> <span class="pre">rm</span> <span class="pre">-f</span> <span class="pre">*.*</span> <span class="pre">.*</span></code></p>
</li>
<li><p class="first">Extract the Drupal tar file into the <code class="docutils literal"><span class="pre">docroot</span></code> directory inside
your local checkout or clone of your Acquia Cloud repository.</p>
<p><code class="docutils literal"><span class="pre">cd</span> <span class="pre">/path/to/checkout/trunk/docroot</span> <span class="pre">tar</span> <span class="pre">--strip-components=1</span> <span class="pre">-xzf</span> <span class="pre">/path/to/drupal-8.2.3.tar.gz</span></code></p>
</li>
<li><p class="first">Add the new files to your code repository.</p>
<p><code class="docutils literal"><span class="pre">git</span> <span class="pre">status</span> <span class="pre">--untracked-files=all</span> <span class="pre">#</span> <span class="pre">On</span> <span class="pre">branch</span> <span class="pre">master</span> <span class="pre">#</span> <span class="pre">Untracked</span> <span class="pre">files:</span> <span class="pre">#</span>&#160;&#160; <span class="pre">(use</span> <span class="pre">&quot;git</span> <span class="pre">add</span> <span class="pre">...&quot;</span> <span class="pre">to</span> <span class="pre">include</span> <span class="pre">in</span> <span class="pre">what</span> <span class="pre">will</span> <span class="pre">be</span> <span class="pre">committed)</span> <span class="pre">#</span> <span class="pre">#</span>&#160;&#160; <span class="pre">some/new/file.inc</span> <span class="pre">nothing</span> <span class="pre">added</span> <span class="pre">to</span> <span class="pre">commit</span> <span class="pre">but</span> <span class="pre">untracked</span> <span class="pre">files</span> <span class="pre">present</span> <span class="pre">(use</span> <span class="pre">&quot;git</span> <span class="pre">add&quot;</span> <span class="pre">to</span> <span class="pre">track)</span> <span class="pre">git</span> <span class="pre">add</span> <span class="pre">some/new/file.inc</span></code></p>
</li>
<li><p class="first">Remove any files that you don’t need.</p>
<p><code class="docutils literal"><span class="pre">git</span> <span class="pre">rm</span> <span class="pre">[filename]</span></code></p>
</li>
<li><p class="first">Commit your changes.</p>
<p><code class="docutils literal"><span class="pre">git</span> <span class="pre">commit</span> <span class="pre">-a</span> <span class="pre">-m</span> <span class="pre">&quot;Upgrade</span> <span class="pre">to</span> <span class="pre">Drupal</span> <span class="pre">8.2.3.&quot;</span></code></p>
<p>Note that at this point, Acquia Cloud does not deploy your
changes. The commit command affects only your local working
repository.</p>
</li>
<li><p class="first">Push your local version of the branch to the remote repository at
Acquia.</p>
<p><code class="docutils literal"><span class="pre">git</span> <span class="pre">push</span></code></p>
</li>
<li><p class="first">Run <code class="docutils literal"><span class="pre">update.php</span></code> by visiting <code class="docutils literal"><span class="pre">http://[dev-env-URL]/update.php</span></code>
(replace [dev-env-URL] with the URL of your Development environment).
This will update the core database tables.</p>
</li>
<li><p class="first">Test the upgraded application on your Development environment. Once
you are satisfied, deploy your code in the Staging environment, and
then to Production.</p>
</li>
<li><p class="first">Run <code class="docutils literal"><span class="pre">update.php</span></code> in your production environment to update the core
database tables there.</p>
</li>
</ol>
</div>
<div class="section" id="related-topics">
<span id="related"></span><h2>Related topics<a class="headerlink" href="#related-topics" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><a class="reference external" href="/acquia-cloud/develop/repository">About your code repository</a></li>
</ul>
</div>
</div>


        
    </div>
</div>

    
<div class="row">
    <div class="small-4 large-3 columns"></div>
    <div id="relinks" class="small-8 large-9 columns">
        <div class="pagination-wrapper">
            <div class="prev">
                <a href="update.html" title="Sending updates to your code repository"><b>‹&nbsp;</b>Sending updates to your code repository</a>
            </div>
            
            <div class="next">
                <a href="../node-js.html" title="Node.js and Acquia Cloud">Node.js and Acquia Cloud<b>&nbsp;›</b></a>
            </div>
            
        </div>
    </div>
</div>



    
<div class="assistance-wrapper">
	<div class="assistance-tbl">
		<div class="col">
			<p><img src="/_static/phone.png" alt="Contact support">Still need assistance? <strong><a href="https://docs.acquia.com/support">Contact Acquia Support</a></strong></p>
		</div>
	</div>
</div>
<div class="support">
	<div class="support-tbl">
		<div class="col left">
			<h2><a href="https://www.acquia.com/customer-success/acquia-global-support">Support</a></h2>
			<ul class="no-bullet">
				<li><a class="light-link" href="https://www.acquia.com/support">Contact Support</a></li>
			</ul>
		</div>
		<div class="col middle">
			<h2><a href="https://www.acquia.com/about-us">About Acquia</a></h2>
			<ul class="no-bullet">
				<li><a class="light-link" href="https://www.acquia.com/about-us">About Us</a></li>
				<li><a class="light-link" href="https://www.acquia.com/about-us/leadership">Leadership</a></li>
				<li><a class="light-link" href="https://www.acquia.com/about-us/board">Board of Directors</a></li>
				<li><a class="light-link" href="https://www.acquia.com/investors">Investors</a></li>
				<li><a class="light-link" href="https://www.acquia.com/about-us/newsroom">Newsroom</a></li>
				<li><a class="light-link" href="https://www.acquia.com/careers">Careers</a></li>
				<li><a class="light-link" href="https://www.acquia.com/about-us/contact">Contact Us</a></li>
			</ul>
			<ul class="social-media">
				<li>
					<a class="fa fa-twitter fa-lg ext" href="https://twitter.com/acquia" target="_blank" rel="nofollow">
						<span class="hide">Twitter</span>
					</a>
				</li>
				<li>
					<a class="fa fa-facebook fa-lg ext" href="https://www.facebook.com/acquia" target="_blank" rel="nofollow">
						<span class="hide">Facebook</span>
					</a>
				</li>
				<li>
					<a class="fa fa-github-alt fa-lg ext" href="https://github.com/acquia" target="_blank" rel="nofollow">
						<span class="hide">Github</span>
					</a>
				</li>
				<li>
					<a class="fa fa-linkedin-in fa-lg ext" href="http://www.linkedin.com/company/167056" target="_blank" rel="nofollow">
						<span class="hide">LinkedIn</span>
					</a>
				</li>
				<li>
					<a class="fa fa-google-plus-g fa-lg ext" href="https://plus.google.com/+acquia" target="_blank" rel="nofollow">
						<span class="hide">Google+</span>
					</a>
				</li>
				<li>
					<a class="fa fa-play fa-lg ext" href="https://www.youtube.com/user/AcquiaTV" target="_blank" rel="nofollow">
						<span class="hide">YouTube</span>
					</a>
				</li>
				<li>
					<a class="fa fa-envelope fa-lg" href="https://www.acquia.com/about-us/contact">
						<span class="hide">Contact Us</span>
					</a>
				</li>
			</ul>
		</div>
		<div class="col right">
			<div class="centered">
				<p>
					<img alt="Acquia: Think Ahead" src="/_static/acquia-logo-think-ahead-black-small.svg">
				</p>
				<p class="margin-left-half">
					<span>53 State Street, 10th Floor<br>
					Boston, MA 02109<br>
					United States<br>
					Phone: 888-922-7842</span><br>
					Map: <a class="decorate ext" href="http://maps.google.com/?q=42.358429+-71.056184+%2853+State+Street%2C+10th+Floor%2C+Boston%2C+MA%2C+02109%2C+us%29" target="_blank" rel="nofollow">Google Maps<span class="ext"><span class="element-invisible"> </span></span></a><br><a class="decorate" href="https://www.acquia.com/about-us/contact#block-views-locations-block-1">View other locations</a>
				</p>
			</div>
		</div>
	</div>
</div>
<div class="top-bar row column">
	<div class="footer" role="contentinfo">Copyright &copy 2018 Acquia Inc. All Rights Reserved. </br>Drupal is a registered trademark of <a href="https://dri.es/">Dries Buytaert</a>. All product names, logos, and brands are property of their respective owners.
    </div>
</div>
    </div>

    <script> $(document).foundation() </script>
    <script type="text/javascript">
      (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
      (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
      e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
      })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

      _st('install','2_Wi1aQvEeu61haxG8TX','2.0.0');
    </script>

  </body>
</html>