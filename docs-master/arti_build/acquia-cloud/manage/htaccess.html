
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Redirecting visitor requests with the .htaccess file &#8212; Acquia Help Center</title>
    <link rel="stylesheet" href="../../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/foundation-sphinx.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '1.0.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../../_static/what-input/what-input.min.js"></script>
    <script type="text/javascript" src="../../_static/foundation-sites/foundation.min.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Using IPv6 IP addresses" href="ipv6.html" />
    <link rel="prev" title="Using Views Data Export" href="files/vde.html" /> 
  </head>
  <body>

    
<header>
<div class="topbar">
    <div class="col left">
        <a href="/" title="Acquia Help Center Home" class="logo">Acquia Help Center</a>
    </div>
    <div class="col right">
      <ul class="main-nav">
        <li>
          <a href="https://www.acquia.com" title="Go to www.acquia.com for our latest information.">Acquia.com</a>
        </li>
        <li>
            <a href="https://dev.acquia.com" title="Acquia's Developer Center: developers.acquia.com">Developers</a>
        </li>
        <li>
            <a href="https://training.acquia.com" title="Go to training.acquia.com to find out about courses and certifications.">Training</a>
        </li>
        <li>
            <a href="/site-search" data-drupal-link-system-path="site-search">Search</a>
        </li>
      </ul>
    </div>
</div>
<div class="bottombar">
    <div class="searchbar-wrapper">
        <form action="search.html" method="get" class="searchbar">
            <div class="search-title">Need help finding something? <strong>Start Here.</strong></div>
            <div class="search-box">
                <input type="search" name="q" maxlength="128" size="15" value="" class="st-default-search-input">
                <input type="hidden" name="check_keywords" value="yes">
                <input type="hidden" name="area" value="default">
            </div>
            <div class="search-btn">
                <input class="btn-search button" type="submit" id="edit-submit-acquia-search" value="Search Docs">
            </div>
        </form>
    </div>
	</div>
</header>



    
<div class="breadcrumbs-wrapper">
	<ul>
        
        <li><a href="../../index.html">Home</a></li>
        
        <li><a href="../../acquia-cloud.html" >Acquia Cloud</a></li>
        <li><a href="../manage.html" accesskey="U">Managing applications with Acquia Cloud</a></li>
        <li class="current">Redirecting visitor requests with the .htaccess file</li>
	</ul>
</div>


<div class="row">
    
        
  <div class="small-4 large-3 columns" id="sidebar" data-sticky-container>
      <div class="sticky" data-sticky data-margin-top="0"><ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../../acquia-cloud.html">Acquia Cloud</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../free.html">Getting started with Acquia Cloud Free</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cloud-ui.html">Using the Acquia Cloud interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="../arch.html">Acquia Cloud architecture and key concepts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ready.html">Acquia Cloud onboarding guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../create.html">Creating a new application on Acquia Cloud</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../manage.html">Managing applications with Acquia Cloud</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="antivirus.html">Enabling virus scanning for file uploads</a></li>
<li class="toctree-l3"><a class="reference internal" href="applications.html">Managing applications with the Acquia Cloud interface</a></li>
<li class="toctree-l3"><a class="reference internal" href="back-up.html">Backing up your application</a></li>
<li class="toctree-l3"><a class="reference internal" href="configure.html">Configuring an environment</a></li>
<li class="toctree-l3"><a class="reference internal" href="cron.html">Using scheduled jobs to maintain your application</a></li>
<li class="toctree-l3"><a class="reference internal" href="database.html">Working with databases</a></li>
<li class="toctree-l3"><a class="reference internal" href="domains.html">Managing domains</a></li>
<li class="toctree-l3"><a class="reference internal" href="email.html">About email in Acquia Cloud applications</a></li>
<li class="toctree-l3"><a class="reference internal" href="environments.html">Working with environments</a></li>
<li class="toctree-l3"><a class="reference internal" href="export.html">Exporting an application from Acquia Cloud</a></li>
<li class="toctree-l3"><a class="reference internal" href="files.html">Working with files</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Redirecting visitor requests with the .htaccess file</a></li>
<li class="toctree-l3"><a class="reference internal" href="ipv6.html">Using IPv6 IP addresses</a></li>
<li class="toctree-l3"><a class="reference internal" href="more-envs.html">Additional environments for Acquia Cloud Enterprise</a></li>
<li class="toctree-l3"><a class="reference internal" href="multiregion.html">Using multi-region failover</a></li>
<li class="toctree-l3"><a class="reference internal" href="notify.html">Viewing activity notifications</a></li>
<li class="toctree-l3"><a class="reference internal" href="php.html">Configuring PHP settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="prod-mode.html">Using Production mode to protect your live application</a></li>
<li class="toctree-l3"><a class="reference internal" href="reset.html">Starting over with an Acquia Cloud subscription</a></li>
<li class="toctree-l3"><a class="reference internal" href="servers.html">Managing Acquia Cloud servers</a></li>
<li class="toctree-l3"><a class="reference internal" href="sftp.html">Connecting to Acquia Cloud with an FTP client</a></li>
<li class="toctree-l3"><a class="reference internal" href="ssh.html">Managing applications using the command line</a></li>
<li class="toctree-l3"><a class="reference internal" href="uptime.html">Monitoring uptime for your application</a></li>
<li class="toctree-l3"><a class="reference internal" href="variables.html">Using environment variables with Node.js applications</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../monitor.html">Monitoring your applications and infrastructure</a></li>
<li class="toctree-l2"><a class="reference internal" href="../access.html">Controlling access to Acquia Cloud</a></li>
<li class="toctree-l2"><a class="reference internal" href="../insight.html">Acquia Insight</a></li>
<li class="toctree-l2"><a class="reference internal" href="../develop.html">Developing applications on Acquia Cloud</a></li>
<li class="toctree-l2"><a class="reference internal" href="../node-js.html">Node.js and Acquia Cloud</a></li>
<li class="toctree-l2"><a class="reference internal" href="../container.html">Containers in Acquia Cloud</a></li>
<li class="toctree-l2"><a class="reference internal" href="../performance.html">Improving application performance</a></li>
<li class="toctree-l2"><a class="reference internal" href="../subs.html">Managing subscriptions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cd.html">Acquia Cloud CD</a></li>
<li class="toctree-l2"><a class="reference internal" href="../glossary.html">Acquia Cloud glossary</a></li>
<li class="toctree-l2"><a class="reference internal" href="../known-issues.html">Known issues in Acquia Cloud</a></li>
<li class="toctree-l2"><a class="reference internal" href="../release-notes.html">Release notes - Acquia Cloud</a></li>
<li class="toctree-l2"><a class="reference internal" href="../self-service-scaling.html">Using a Cloud Service Management plan</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ssl.html">Enabling SSL</a></li>
<li class="toctree-l2"><a class="reference internal" href="../teams.html">Managing users, teams, roles, and permissions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../edge.html">Acquia Cloud Edge</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../shield.html">Acquia Cloud Shield</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../site-factory.html">Acquia Cloud Site Factory</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../commerce.html">Acquia Commerce Manager</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dam.html">Acquia DAM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dev-desktop.html">Acquia Dev Desktop</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../journey.html">Acquia Journey</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../lift.html">Acquia Lift</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api.html">Acquia Platform APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../acquia-search.html">Acquia Search</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../devtools.html">Developer tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../lightning.html">Lightning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../support.html">Acquia Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ra.html">Remote Administration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../resource.html">Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials.html">Acquia Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../guide.html">Products and Services Guide</a></li>
</ul>

      </div>
  </div>
    
    <div id="content" class="small-8 large-9 columns">
        
            
  <div class="section" id="redirecting-visitor-requests-with-the-htaccess-file">
<h1>Redirecting visitor requests with the .htaccess file<a class="headerlink" href="#redirecting-visitor-requests-with-the-htaccess-file" title="Permalink to this headline">¶</a></h1>
<p>Your website’s
<a class="reference external" href="https://en.wikipedia.org/wiki/.htaccess">.htaccess</a> file
controls how your website’s visitors are able to access your website,
and can be configured to handle many different visitor scenarios. Some
of the configuration methods you can use with you Acquia-hosted
website’s <code class="docutils literal"><span class="pre">.htaccess</span></code> file include the following:</p>
<ul class="simple">
<li><a class="reference external" href="#www">Redirecting bare domain names to the www subdomain</a></li>
<li><a class="reference external" href="#https">Redirecting traffic between HTTP and HTTPS</a></li>
</ul>
<p>When implementing redirects in your <code class="docutils literal"><span class="pre">.htaccess</span></code> file, be aware of the
following best practices:</p>
<ul class="simple">
<li>Be sure to place all of the following code examples <em>immediately
after</em> the <code class="docutils literal"><span class="pre">RewriteEngine</span> <span class="pre">On</span></code> line in your <code class="docutils literal"><span class="pre">.htaccess</span></code> file.</li>
<li>Ensure that this line of code is included in your rewrite code:
<code class="docutils literal"><span class="pre">RewriteCond</span> <span class="pre">%{HTTP_HOST}</span> <span class="pre">!\.acquia-sites\.com</span> <span class="pre">[NC]</span>&#160; <span class="pre">#</span> <span class="pre">exclude</span> <span class="pre">Acquia</span> <span class="pre">domains</span></code></li>
<li>Too many redirects can cause minor to serious performance issues for
your website. Every page request must the redirect rules, requiring
additional load time on a per-request basis. Acquia recommends
regular reviews of rules for consolidation and removal as part of
your normal maintenance practices.</li>
<li>Redirects do not preserve Google campaign tracking information. If
you rely on this information, ensure your links do not rely on Acquia
server-side redirects. Acquia Cloud Enterprise customers can use a
<a class="reference external" href="/acquia-cloud/performance/varnish/custom">custom VCL file</a> to
alter this behavior.</li>
</ul>
<p>For more information about <code class="docutils literal"><span class="pre">.htaccess</span></code> rewrite rules, see
<a class="reference external" href="/article/introduction-htaccess-rewrite-rules">Introduction to htaccess rewrite
rules</a>.</p>
<div class="admonition important">
<p class="first admonition-title">Important</p>
<p>Redirects on Acquia Cloud Site Factory</p>
<p>Acquia Cloud Site Factory subscriptions may need to modify the examples
provided on this page, such as:</p>
<ul class="last simple">
<li>When testing for <code class="docutils literal"><span class="pre">AH_SITE_ENVIRONMENT</span></code>, you may need values other
than <code class="docutils literal"><span class="pre">prod</span></code>, such as <code class="docutils literal"><span class="pre">_01live</span></code> or <code class="docutils literal"><span class="pre">01live</span></code>.</li>
<li>Default domain names use <code class="docutils literal"><span class="pre">acsitefactory.com</span></code> instead of
<code class="docutils literal"><span class="pre">acquia-sites.com</span></code>.</li>
</ul>
</div>
<div class="section" id="redirecting-bare-domain-names-to-the-www-subdomain">
<span id="www"></span><h2>Redirecting bare domain names to the www subdomain<a class="headerlink" href="#redirecting-bare-domain-names-to-the-www-subdomain" title="Permalink to this headline">¶</a></h2>
<p>You can modify your application’s <code class="docutils literal"><span class="pre">.htaccess</span></code> file so that when
visitors request your application’s URL without the <code class="docutils literal"><span class="pre">www</span></code> subdomain,
the request redirects to the <code class="docutils literal"><span class="pre">www</span></code> subdomain. For example, requests to
<code class="docutils literal"><span class="pre">http://example.com</span></code> will be redirected to <code class="docutils literal"><span class="pre">http://www.example.com</span></code>.</p>
<p>The following lines in the Drupal 8 and Drupal 7 versions of
<code class="docutils literal"><span class="pre">.htaccess</span></code> accomplish this, but can cause problems in development:</p>
<div class="highlight-none"><div class="highlight"><pre><span></span># RewriteCond %{HTTP_HOST} !^www\. [NC]
# RewriteRule ^ http://www.%{HTTP_HOST}%{REQUEST_URI} [L,R=301]
</pre></div>
</div>
<p>Because these lines unconditionally redirect visitors to a <code class="docutils literal"><span class="pre">www</span></code>
subdomain, it can cause problems if the website is intended to work with
different domains, for example, with non-production environments.
Instead, replace the commented lines with code similar to the following,
modifying it for your own domain name:</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>RewriteCond %{HTTP_HOST} ^example\.com$ [NC]
RewriteCond %{HTTP_HOST} !\.acquia-sites\.com [NC]
RewriteRule ^ http://www.%{HTTP_HOST}%{REQUEST_URI} [L,R=301]
</pre></div>
</div>
</div>
<div class="section" id="redirecting-traffic-between-http-and-https">
<span id="https"></span><h2>Redirecting traffic between HTTP and HTTPS<a class="headerlink" href="#redirecting-traffic-between-http-and-https" title="Permalink to this headline">¶</a></h2>
<p>For Acquia-hosted websites, secure HTTPS connections are terminated at
the load balancer level, which can cause many common <code class="docutils literal"><span class="pre">.htaccess</span></code>
recipes for HTTPS redirects to not work as expected. Because the
X-Forwarded-Proto header indicates to the webserver if a request came in
over HTTPS, this what you need to validate in your rewrite conditions.</p>
<p>The examples in each of the available redirect methods use rewrite rule
flags. For a thorough explanation of the flags that you can use, see
<a class="reference external" href="https://httpd.apache.org/docs/2.4/rewrite/flags.html">RewriteRule
Flags</a>.</p>
<div class="section" id="redirecting-all-http-traffic-to-https">
<span id="non-to-secure"></span><h3>Redirecting all HTTP traffic to HTTPS<a class="headerlink" href="#redirecting-all-http-traffic-to-https" title="Permalink to this headline">¶</a></h3>
<p>This sample rule sets <code class="docutils literal"><span class="pre">HTTP_X_FORWARDED_PROTO</span></code> to <code class="docutils literal"><span class="pre">https</span></code> when
accessing the website using HTTPS:</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>RewriteCond %{HTTPS} off
RewriteCond %{HTTP:X-Forwarded-Proto} !https
RewriteRule ^(.*)$ https://%{HTTP_HOST}%{REQUEST_URI} [NE,L,R=301]
</pre></div>
</div>
</div>
<div class="section" id="redirecting-all-https-traffic-to-http">
<span id="secure-to-non"></span><h3>Redirecting all HTTPS traffic to HTTP<a class="headerlink" href="#redirecting-all-https-traffic-to-http" title="Permalink to this headline">¶</a></h3>
<p>If website visitors are receiving insecure content warnings due to
Google indexing documents using the HTTPS protocol, traffic may need to
be redirected from HTTPS to HTTP. For this case, use the following rule
set:</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>RewriteCond %{HTTP:X-Forwarded-Proto} =https
RewriteRule ^(.*)$ http://%{HTTP_HOST}%{REQUEST_URI} [L,R=301]
</pre></div>
</div>
</div>
<div class="section" id="redirecting-all-traffic-to-the-www-ssl-domain">
<span id="all-https"></span><h3>Redirecting all traffic to the www SSL domain<a class="headerlink" href="#redirecting-all-traffic-to-the-www-ssl-domain" title="Permalink to this headline">¶</a></h3>
<p>To force all traffic to use both the <code class="docutils literal"><span class="pre">www</span></code> domain and SSL (even if not
initially requested), use the following rules:</p>
<div class="highlight-none"><div class="highlight"><pre><span></span># ensure www.
RewriteCond %{HTTP_HOST} !^www\. [NC]
RewriteRule ^ https://www.%{HTTP_HOST}%{REQUEST_URI} [L,R=301] # ensure https
RewriteCond %{HTTP:X-Forwarded-Proto} !https
RewriteRule ^ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301]
</pre></div>
</div>
</div>
<div class="section" id="redirecting-all-traffic-to-the-bare-ssl-domain">
<span id="all-bare"></span><h3>Redirecting all traffic to the bare SSL domain<a class="headerlink" href="#redirecting-all-traffic-to-the-bare-ssl-domain" title="Permalink to this headline">¶</a></h3>
<p>Acquia Cloud Enterprise customers with dedicated load balancers have the
option of redirecting all traffic to the bare domain using the HTTPS
protocol. To do this, use rules similar to the following:</p>
<div class="highlight-none"><div class="highlight"><pre><span></span># Redirecting http://www.domain.com and https://www.domain.com to https://domain.com
RewriteCond %{HTTP_HOST} ^www\.(.+)$ [NC]
RewriteRule ^(.*)$ https://%1%{REQUEST_URI} [L,R=301]
# Redirecting http://domain.com to https://domain.com
RewriteCond %{HTTPS} off
RewriteCond %{HTTP:X-Forwarded-Proto} !https
RewriteRule ^(.*)$ https://%{HTTP_HOST}%{REQUEST_URI} [NE,L,R=301]
</pre></div>
</div>
</div>
<div class="section" id="excluding-acquia-domains-and-non-production-environments">
<span id="acquia-hosted"></span><h3>Excluding Acquia domains and non-production environments<a class="headerlink" href="#excluding-acquia-domains-and-non-production-environments" title="Permalink to this headline">¶</a></h3>
<p>To exclude the default Acquia domains from your redirects, or specific
environments (such as Dev and Stage), add one or more of the following
conditionals to the top of any group of rewrite rules:</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>RewriteCond %{ENV:AH_SITE_ENVIRONMENT} prod [NC] # only prod
RewriteCond %{ENV:AH_SITE_ENVIRONMENT} !prod [NC] # not prod
RewriteCond %{HTTP_HOST} !\.acquia-sites\.com [NC]  # exclude Acquia domains
</pre></div>
</div>
<p>As an example, if you wanted to ensure that all the domains were
redirected to <code class="docutils literal"><span class="pre">https://www.</span></code> except for Acquia domains, you would use
rules similar to the following:</p>
<div class="highlight-none"><div class="highlight"><pre><span></span># ensure www.
RewriteCond %{HTTP_HOST} !\.acquia-sites\.com [NC]  # exclude Acquia domains
RewriteCond %{HTTP_HOST} !^www\. [NC]
RewriteRule ^ https://www.%{HTTP_HOST}%{REQUEST_URI} [L,R=301] # ensure https
RewriteCond %{HTTP:X-Forwarded-Proto} !https
RewriteRule ^ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301]
</pre></div>
</div>
</div>
<div class="section" id="example">
<h3>Example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h3>
<p>The preceding examples of how and when you would use a rewrite are
complex. Here is a breakdown of the scenarios, which may help you
determine what your website really needs.</p>
<p>A security warning will occur on a bare domain only if the request
specifically includes the HTTPS protocol (such as
<code class="docutils literal"><span class="pre">https://example.com</span></code>), and there is no SSL certificate on the load
balancer that covers the bare domain. A request for
<code class="docutils literal"><span class="pre">http://example.com</span></code> using the HTTP protocol, however, will not
produce a security warning because a secure connection to the bare
domain has not been requested.</p>
<table border="1" class="docutils">
<colgroup>
<col width="33%" />
<col width="33%" />
<col width="33%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Domain</th>
<th class="head">DNS record type</th>
<th class="head">IP/Hostname</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">www.example.com</span></code></td>
<td>CNAME</td>
<td>dc-2459-906772057.us-
east-1.elb.amazonaws.
com</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">example.com</span></code></td>
<td>A</td>
<td>123.45.67.89</td>
</tr>
</tbody>
</table>
<p>For Acquia Cloud, <code class="docutils literal"><span class="pre">www.example.com</span></code> has a CNAME record that
points to the hostname of the elastic load balancer, because that’s
where the SSL certificate is installed when it’s uploaded using the
<a class="reference external" href="/acquia-cloud/ssl">self-service UI</a>. However, bare domains/non-FQDNs
such as <code class="docutils literal"><span class="pre">example.com</span></code> cannot have CNAME records without a service
similar to Route 53. Because of this, it must point to the elastic IP
address of the balancer pair behind the ELB.</p>
<p>If there is a redirect in the <code class="docutils literal"><span class="pre">.htaccess</span></code> file that will take all
requests for the bare domain and redirect them to <code class="docutils literal"><span class="pre">www</span></code>, due to how
the DNS records are set up, the following process is what occurs if you
request <code class="docutils literal"><span class="pre">http://example.com</span></code>:</p>
<ol class="arabic simple">
<li>The request for <code class="docutils literal"><span class="pre">http://example.com</span></code> hits the load balancers behind
the ELB.</li>
<li>The <code class="docutils literal"><span class="pre">.htaccess</span></code> rule 301 redirects request to
<code class="docutils literal"><span class="pre">https://www.example.com</span></code>.</li>
<li>A new request for <code class="docutils literal"><span class="pre">https://www.example.com</span></code> hits the ELB (where the
certificate exists), and the procedure completes successfully.</li>
</ol>
<p>However, if a specific request is sent to <code class="docutils literal"><span class="pre">https://example.com</span></code> with
the HTTPS protocol, the following occurs:</p>
<ol class="arabic simple">
<li>A request for <code class="docutils literal"><span class="pre">https://example.com</span></code> hits the load balancers behind
the ELB.</li>
<li>Your browser displays the normal security warning.</li>
<li>You examine the certificate and decide to move ahead.</li>
<li>The <code class="docutils literal"><span class="pre">.htaccess</span></code> rule 301 redirects the request to
<code class="docutils literal"><span class="pre">https://www.example.com</span></code>.</li>
<li>A new request for <code class="docutils literal"><span class="pre">https://www.example.com</span></code> hits the ELB (where the
certificate exists), and the procedure completes successfully.</li>
</ol>
<p>Depending on your Acquia Cloud subscription type, there may be
additional requirements or steps to remove the security warning:</p>
<ul class="simple">
<li><em>Acquia Cloud Professional with shared balancers</em>
In the case of Acquia Cloud Professional with shared balancers, only a
bare domain service (such as Route 53 or CloudFlare) will be helpful
in removing the security warning. This is because with a bare domain
service you are able to use a CNAME record for the bare domain, which
allows you to point the bare domain at the hostname of the ELB.</li>
<li><em>Acquia Cloud Enterprise</em>
There are two available options for resolving the security warning,
depending on the balancer situation:<ul>
<li>If you have dedicated balancers and if the existing certificate
already covers at least both <code class="docutils literal"><span class="pre">www.example.com</span></code> and
<code class="docutils literal"><span class="pre">example.com</span></code>, you can <a class="reference external" href="/support#contact">contact Acquia
Support</a> to have the certificate that you
uploaded using the self-service interface installed on the
dedicated balancers. After this is complete, requests that hit the
balancer before being redirected to the ELB also will not receive
the security warning.</li>
<li>Use Route 53, CloudFlare, or another bare domain service.</li>
</ul>
</li>
</ul>
</div>
</div>
</div>


        
    </div>
</div>

    
<div class="row">
    <div class="small-4 large-3 columns"></div>
    <div id="relinks" class="small-8 large-9 columns">
        <div class="pagination-wrapper">
            <div class="prev">
                <a href="files/vde.html" title="Using Views Data Export"><b>‹&nbsp;</b>Using Views Data Export</a>
            </div>
            
            <div class="next">
                <a href="ipv6.html" title="Using IPv6 IP addresses">Using IPv6 IP addresses<b>&nbsp;›</b></a>
            </div>
            
        </div>
    </div>
</div>



    
<div class="assistance-wrapper">
	<div class="assistance-tbl">
		<div class="col">
			<p><img src="/_static/phone.png" alt="Contact support">Still need assistance? <strong><a href="https://docs.acquia.com/support">Contact Acquia Support</a></strong></p>
		</div>
	</div>
</div>
<div class="support">
	<div class="support-tbl">
		<div class="col left">
			<h2><a href="https://www.acquia.com/customer-success/acquia-global-support">Support</a></h2>
			<ul class="no-bullet">
				<li><a class="light-link" href="https://www.acquia.com/support">Contact Support</a></li>
			</ul>
		</div>
		<div class="col middle">
			<h2><a href="https://www.acquia.com/about-us">About Acquia</a></h2>
			<ul class="no-bullet">
				<li><a class="light-link" href="https://www.acquia.com/about-us">About Us</a></li>
				<li><a class="light-link" href="https://www.acquia.com/about-us/leadership">Leadership</a></li>
				<li><a class="light-link" href="https://www.acquia.com/about-us/board">Board of Directors</a></li>
				<li><a class="light-link" href="https://www.acquia.com/investors">Investors</a></li>
				<li><a class="light-link" href="https://www.acquia.com/about-us/newsroom">Newsroom</a></li>
				<li><a class="light-link" href="https://www.acquia.com/careers">Careers</a></li>
				<li><a class="light-link" href="https://www.acquia.com/about-us/contact">Contact Us</a></li>
			</ul>
			<ul class="social-media">
				<li>
					<a class="fa fa-twitter fa-lg ext" href="https://twitter.com/acquia" target="_blank" rel="nofollow">
						<span class="hide">Twitter</span>
					</a>
				</li>
				<li>
					<a class="fa fa-facebook fa-lg ext" href="https://www.facebook.com/acquia" target="_blank" rel="nofollow">
						<span class="hide">Facebook</span>
					</a>
				</li>
				<li>
					<a class="fa fa-github-alt fa-lg ext" href="https://github.com/acquia" target="_blank" rel="nofollow">
						<span class="hide">Github</span>
					</a>
				</li>
				<li>
					<a class="fa fa-linkedin-in fa-lg ext" href="http://www.linkedin.com/company/167056" target="_blank" rel="nofollow">
						<span class="hide">LinkedIn</span>
					</a>
				</li>
				<li>
					<a class="fa fa-google-plus-g fa-lg ext" href="https://plus.google.com/+acquia" target="_blank" rel="nofollow">
						<span class="hide">Google+</span>
					</a>
				</li>
				<li>
					<a class="fa fa-play fa-lg ext" href="https://www.youtube.com/user/AcquiaTV" target="_blank" rel="nofollow">
						<span class="hide">YouTube</span>
					</a>
				</li>
				<li>
					<a class="fa fa-envelope fa-lg" href="https://www.acquia.com/about-us/contact">
						<span class="hide">Contact Us</span>
					</a>
				</li>
			</ul>
		</div>
		<div class="col right">
			<div class="centered">
				<p>
					<img alt="Acquia: Think Ahead" src="/_static/acquia-logo-think-ahead-black-small.svg">
				</p>
				<p class="margin-left-half">
					<span>53 State Street, 10th Floor<br>
					Boston, MA 02109<br>
					United States<br>
					Phone: 888-922-7842</span><br>
					Map: <a class="decorate ext" href="http://maps.google.com/?q=42.358429+-71.056184+%2853+State+Street%2C+10th+Floor%2C+Boston%2C+MA%2C+02109%2C+us%29" target="_blank" rel="nofollow">Google Maps<span class="ext"><span class="element-invisible"> </span></span></a><br><a class="decorate" href="https://www.acquia.com/about-us/contact#block-views-locations-block-1">View other locations</a>
				</p>
			</div>
		</div>
	</div>
</div>
<div class="top-bar row column">
	<div class="footer" role="contentinfo">Copyright &copy 2018 Acquia Inc. All Rights Reserved. </br>Drupal is a registered trademark of <a href="https://dri.es/">Dries Buytaert</a>. All product names, logos, and brands are property of their respective owners.
    </div>
</div>
    </div>

    <script> $(document).foundation() </script>
    <script type="text/javascript">
      (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
      (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
      e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
      })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

      _st('install','2_Wi1aQvEeu61haxG8TX','2.0.0');
    </script>

  </body>
</html>