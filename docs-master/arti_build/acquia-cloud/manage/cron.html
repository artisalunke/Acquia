
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Using scheduled jobs to maintain your application &#8212; Acquia Help Center</title>
    <link rel="stylesheet" href="../../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/foundation-sphinx.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '1.0.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../../_static/what-input/what-input.min.js"></script>
    <script type="text/javascript" src="../../_static/foundation-sites/foundation.min.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Working with databases" href="database.html" />
    <link rel="prev" title="Configuring an environment" href="configure.html" /> 
  </head>
  <body>

    
<header>
<div class="topbar">
    <div class="col left">
        <a href="/" title="Acquia Help Center Home" class="logo">Acquia Help Center</a>
    </div>
    <div class="col right">
      <ul class="main-nav">
        <li>
          <a href="https://www.acquia.com" title="Go to www.acquia.com for our latest information.">Acquia.com</a>
        </li>
        <li>
            <a href="https://dev.acquia.com" title="Acquia's Developer Center: developers.acquia.com">Developers</a>
        </li>
        <li>
            <a href="https://training.acquia.com" title="Go to training.acquia.com to find out about courses and certifications.">Training</a>
        </li>
        <li>
            <a href="/site-search" data-drupal-link-system-path="site-search">Search</a>
        </li>
      </ul>
    </div>
</div>
<div class="bottombar">
    <div class="searchbar-wrapper">
        <form action="search.html" method="get" class="searchbar">
            <div class="search-title">Need help finding something? <strong>Start Here.</strong></div>
            <div class="search-box">
                <input type="search" name="q" maxlength="128" size="15" value="" class="st-default-search-input">
                <input type="hidden" name="check_keywords" value="yes">
                <input type="hidden" name="area" value="default">
            </div>
            <div class="search-btn">
                <input class="btn-search button" type="submit" id="edit-submit-acquia-search" value="Search Docs">
            </div>
        </form>
    </div>
	</div>
</header>



    
<div class="breadcrumbs-wrapper">
	<ul>
        
        <li><a href="../../index.html">Home</a></li>
        
        <li><a href="../../acquia-cloud.html" >Acquia Cloud</a></li>
        <li><a href="../manage.html" accesskey="U">Managing applications with Acquia Cloud</a></li>
        <li class="current">Using scheduled jobs to maintain your application</li>
	</ul>
</div>


<div class="row">
    
        
  <div class="small-4 large-3 columns" id="sidebar" data-sticky-container>
      <div class="sticky" data-sticky data-margin-top="0"><ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../../acquia-cloud.html">Acquia Cloud</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../free.html">Getting started with Acquia Cloud Free</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cloud-ui.html">Using the Acquia Cloud interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="../arch.html">Acquia Cloud architecture and key concepts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ready.html">Acquia Cloud onboarding guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../create.html">Creating a new application on Acquia Cloud</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../manage.html">Managing applications with Acquia Cloud</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="antivirus.html">Enabling virus scanning for file uploads</a></li>
<li class="toctree-l3"><a class="reference internal" href="applications.html">Managing applications with the Acquia Cloud interface</a></li>
<li class="toctree-l3"><a class="reference internal" href="back-up.html">Backing up your application</a></li>
<li class="toctree-l3"><a class="reference internal" href="configure.html">Configuring an environment</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Using scheduled jobs to maintain your application</a></li>
<li class="toctree-l3"><a class="reference internal" href="database.html">Working with databases</a></li>
<li class="toctree-l3"><a class="reference internal" href="domains.html">Managing domains</a></li>
<li class="toctree-l3"><a class="reference internal" href="email.html">About email in Acquia Cloud applications</a></li>
<li class="toctree-l3"><a class="reference internal" href="environments.html">Working with environments</a></li>
<li class="toctree-l3"><a class="reference internal" href="export.html">Exporting an application from Acquia Cloud</a></li>
<li class="toctree-l3"><a class="reference internal" href="files.html">Working with files</a></li>
<li class="toctree-l3"><a class="reference internal" href="htaccess.html">Redirecting visitor requests with the .htaccess file</a></li>
<li class="toctree-l3"><a class="reference internal" href="ipv6.html">Using IPv6 IP addresses</a></li>
<li class="toctree-l3"><a class="reference internal" href="more-envs.html">Additional environments for Acquia Cloud Enterprise</a></li>
<li class="toctree-l3"><a class="reference internal" href="multiregion.html">Using multi-region failover</a></li>
<li class="toctree-l3"><a class="reference internal" href="notify.html">Viewing activity notifications</a></li>
<li class="toctree-l3"><a class="reference internal" href="php.html">Configuring PHP settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="prod-mode.html">Using Production mode to protect your live application</a></li>
<li class="toctree-l3"><a class="reference internal" href="reset.html">Starting over with an Acquia Cloud subscription</a></li>
<li class="toctree-l3"><a class="reference internal" href="servers.html">Managing Acquia Cloud servers</a></li>
<li class="toctree-l3"><a class="reference internal" href="sftp.html">Connecting to Acquia Cloud with an FTP client</a></li>
<li class="toctree-l3"><a class="reference internal" href="ssh.html">Managing applications using the command line</a></li>
<li class="toctree-l3"><a class="reference internal" href="uptime.html">Monitoring uptime for your application</a></li>
<li class="toctree-l3"><a class="reference internal" href="variables.html">Using environment variables with Node.js applications</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../monitor.html">Monitoring your applications and infrastructure</a></li>
<li class="toctree-l2"><a class="reference internal" href="../access.html">Controlling access to Acquia Cloud</a></li>
<li class="toctree-l2"><a class="reference internal" href="../insight.html">Acquia Insight</a></li>
<li class="toctree-l2"><a class="reference internal" href="../develop.html">Developing applications on Acquia Cloud</a></li>
<li class="toctree-l2"><a class="reference internal" href="../node-js.html">Node.js and Acquia Cloud</a></li>
<li class="toctree-l2"><a class="reference internal" href="../container.html">Containers in Acquia Cloud</a></li>
<li class="toctree-l2"><a class="reference internal" href="../performance.html">Improving application performance</a></li>
<li class="toctree-l2"><a class="reference internal" href="../subs.html">Managing subscriptions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cd.html">Acquia Cloud CD</a></li>
<li class="toctree-l2"><a class="reference internal" href="../glossary.html">Acquia Cloud glossary</a></li>
<li class="toctree-l2"><a class="reference internal" href="../known-issues.html">Known issues in Acquia Cloud</a></li>
<li class="toctree-l2"><a class="reference internal" href="../release-notes.html">Release notes - Acquia Cloud</a></li>
<li class="toctree-l2"><a class="reference internal" href="../self-service-scaling.html">Using a Cloud Service Management plan</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ssl.html">Enabling SSL</a></li>
<li class="toctree-l2"><a class="reference internal" href="../teams.html">Managing users, teams, roles, and permissions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../edge.html">Acquia Cloud Edge</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../shield.html">Acquia Cloud Shield</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../site-factory.html">Acquia Cloud Site Factory</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../commerce.html">Acquia Commerce Manager</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dam.html">Acquia DAM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dev-desktop.html">Acquia Dev Desktop</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../journey.html">Acquia Journey</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../lift.html">Acquia Lift</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api.html">Acquia Platform APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../acquia-search.html">Acquia Search</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../devtools.html">Developer tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../lightning.html">Lightning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../support.html">Acquia Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ra.html">Remote Administration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../resource.html">Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials.html">Acquia Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../guide.html">Products and Services Guide</a></li>
</ul>

      </div>
  </div>
    
    <div id="content" class="small-8 large-9 columns">
        
            
  <div class="section" id="using-scheduled-jobs-to-maintain-your-application">
<h1>Using scheduled jobs to maintain your application<a class="headerlink" href="#using-scheduled-jobs-to-maintain-your-application" title="Permalink to this headline">¶</a></h1>
<p>To help your application to run more efficiently, you should conduct
regular website maintenance. You can automate maintenance tasks or jobs
to run at scheduled intervals using the <strong>Scheduled Jobs</strong> page in the
Acquia Cloud interface.</p>
<div class="admonition-note-for-acquia-product-edg-subscribers admonition">
<p class="first admonition-title">Note for Acquia Cloud Site Factory subscribers</p>
<p class="last">For information about cron and scheduling tasks on Acquia Cloud Site Factory,
see <a class="reference external" href="/site-factory/manage/tasks/factory">Managing cron tasks using the management
console</a>.</p>
</div>
<p>Scheduled jobs are specific to the environment that they are created in.
While you cannot create a job that executes a command across multiple
environments based on the same schedule, you can create a job for each
environment, with each of these jobs using the same command line and
schedule.</p>
<p>You should use the <strong>Scheduled Jobs</strong> page for scheduled jobs, rather
than the default Drupal cron or any of the contributed cron modules,
such as <a class="reference external" href="http://drupal.org/project/elysia_cron">Elysia Cron</a> or
<a class="reference external" href="http://drupal.org/project/ultimate_cron">Ultimate Cron</a>. Compared to
other cron solutions, using the <strong>Scheduled Jobs</strong> page is more reliable
and provides extensive and integrated logging for Acquia Cloud
applications.</p>
<div class="section" id="disabling-drupal-cron">
<span id="drupal"></span><h2>Disabling Drupal cron<a class="headerlink" href="#disabling-drupal-cron" title="Permalink to this headline">¶</a></h2>
<p>By default, Drupal cron (also known as <em>poor man’s cron</em>) is enabled for
websites. However, Acquia recommends that you disable Drupal cron and
instead rely on Acquia Cloud for running scheduled jobs. Using
Acquia Cloud for scheduled jobs ensures that cron jobs are run on
the schedule that you specify, while default Drupal cron is instead
triggered by application activity and only when the application is
visited. Disabling Drupal cron both improves reliability and avoids the
performance reduction on page requests.</p>
<p>To disable Drupal cron, complete the following steps:</p>
<ol class="arabic simple">
<li>Sign in to your Drupal website as an administrator.</li>
<li>Go to <strong>Configuration &gt; System &gt; Cron</strong>
(<code class="docutils literal"><span class="pre">http://[site_URL]/admin/config/system/cron</span></code>).</li>
<li>In the <strong>Run cron every</strong> list, click <strong>Never</strong>.</li>
<li>Click <strong>Save configuration</strong>.</li>
</ol>
</div>
<div class="section" id="creating-scheduled-jobs">
<span id="creating"></span><h2>Creating scheduled jobs<a class="headerlink" href="#creating-scheduled-jobs" title="Permalink to this headline">¶</a></h2>
<div class="admonition-dedicated-cron-servers-on-acquia-product-ace admonition">
<p class="first admonition-title">Dedicated cron servers on Acquia Cloud Enterprise</p>
<p class="last">Some Acquia Cloud Enterprise subscriptions have a dedicated cron server
because of the particular performance needs of their applications. To
set up a scheduled job on a dedicated cron server, <a class="reference external" href="/support#contact">contact Acquia
Support</a>.</p>
</div>
<p>To create a new cron job for an environment, complete the following
steps:</p>
<ol class="arabic">
<li><p class="first"><a class="reference external" href="https://cloud.acquia.com/">Sign in</a> to the Acquia Cloud interface.</p>
</li>
<li><p class="first">Select an application and an environment.</p>
</li>
<li><p class="first">Click <strong>Scheduled Jobs</strong>.</p>
</li>
<li><p class="first">Click <strong>Add Job</strong> to add a scheduled job.</p>
<p><img alt="Add a scheduled job" src="https://cdn3.webdamdb.com/1280_IUpvl7t7J5N9.png?1526475577" /></p>
</li>
<li><p class="first">In the <strong>Create a new scheduled job on [env]</strong> dialog, enter a
descriptive name for the job in the <strong>Job name</strong> field.</p>
</li>
<li><div class="first line-block">
<div class="line">In the <strong>Command</strong> field, enter the command that you want to have
Acquia Cloud regularly run for the environment. You can
enter any commands that are allowed from an SSH connection to the
environment. A command cannot be longer than 255 characters. If you
need to execute a command longer than that, you should incorporate
it into a <a class="reference external" href="#shell">shell script</a> that you run as a scheduled
job.</div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Remember that <code class="docutils literal"><span class="pre">%</span></code> is a special character in cron commands and if
your command uses it, you must use a backslash (<code class="docutils literal"><span class="pre">\</span></code>) to escape it.
For example: <code class="docutils literal"><span class="pre">your_log_file_$(date</span> <span class="pre">+\%F).log</span></code>.</p>
</div>
<div class="line-block">
<div class="line">For some common cron examples that you can use in this field, see
the <a class="reference external" href="#example">Using cron command examples</a> section on this
page.</div>
<div class="line">You should test commands using SSH in your Acquia Cloud
environment to make sure they work before adding them as automated
cron commands.</div>
</div>
<p><img alt="Enter information about the scheduled job" src="https://cdn4.webdamdb.com/1280_IWyVPF1UJFA5.png?1526475958" /></p>
</li>
<li><p class="first">Select how often you want to run the command from the menus in the
<strong>Command frequency</strong> section:</p>
<ul class="simple">
<li>Every minute</li>
<li>Every hour, at a number of minutes past the hour</li>
<li>Every day, at a certain time</li>
<li>Every week, at a certain day of the week and time of day</li>
<li>Every month, at a certain day of the month and time of day</li>
<li>Every year, at a certain month, day of the month, and time of day</li>
</ul>
<div class="line-block">
<div class="line">All times are UTC.</div>
<div class="line">As an alternative, you can enter the cron frequency as a string.
For more information, see <a class="reference external" href="%5Bacquia-product:kb%5Darticles/cron-time-string-format">Cron time string
format</a>.</div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Running cron too frequently can affect performance.</p>
</div>
</li>
<li><p class="first">Click <strong>Add</strong>.</p>
</li>
</ol>
<p>After you create a new job, Acquia Cloud displays the job in the
list of scheduled jobs for the environment in which it was created.</p>
<div class="section" id="scheduled-job-output">
<span id="output"></span><h3>Scheduled job output<a class="headerlink" href="#scheduled-job-output" title="Permalink to this headline">¶</a></h3>
<p>When a scheduled job runs, and the output is not redirected to
<code class="docutils literal"><span class="pre">stdout</span></code>, the cron user sends an email to the application user on the
same server. This email is saved in <code class="docutils literal"><span class="pre">/var/mail</span></code>.</p>
<div class="admonition important">
<p class="first admonition-title">Important</p>
<p class="last">If the messages are never picked up or cleared, this eventually fills
the disk, which can cause serious problems, including possibly bringing
your application down.</p>
</div>
<p>To avoid issues, scheduled jobs should always include a logging
statement. For example, you could use the following statement, replacing
<code class="docutils literal"><span class="pre">[site]</span></code> with your environment name, <code class="docutils literal"><span class="pre">[env]</span></code> with the environment,
and <code class="docutils literal"><span class="pre">[site_URL]</span></code> with the base URL to the website you want to execute
cron on:</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>drush @[site].[env] -dv -l http://[site_URL] cron &amp;&gt;&gt; /var/log/sites/${AH_SITE_NAME}/logs/$(hostname -s)/drush-cron.log
</pre></div>
</div>
<p>In this example,
<code class="docutils literal"><span class="pre">&amp;&gt;&gt;</span> <span class="pre">/var/log/sites/${AH_SITE_NAME}/logs/$(hostname</span> <span class="pre">-s)/drush-cron.log</span></code>
logs the cron output to a <code class="docutils literal"><span class="pre">drush-cron.log</span></code> file in the server’s logs
directory, where it will be rotated along with the other logs in that
directory. The log file will be rotated only if it is named
<code class="docutils literal"><span class="pre">drush-cron.log</span></code>. For more information, see <a class="reference external" href="/acquia-cloud/monitor/logs">About |acquia-product:ac|
logging</a>.</p>
<p>To improve usability, you can also add a timestamp to the log messages,
replacing <code class="docutils literal"><span class="pre">[site]</span></code> with your environment name, <code class="docutils literal"><span class="pre">[env]</span></code> with the
environment, and <code class="docutils literal"><span class="pre">[site_URL]</span></code> with the base URL to the website you
want to execute cron on:</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>drush @[site].[env] -dv -l http://[site_URL] cron 2&gt;&amp;1 | awk &#39;{print &quot;[&quot;strftime(&quot;\%Y-\%m-\%d \%H:\%M:\%S \%Z&quot;)&quot;] &quot;$0}&#39; &amp;&gt;&gt; /var/log/sites/${AH_SITE_NAME}/logs/$(hostname -s)/drush-cron.log
</pre></div>
</div>
</div>
</div>
<div class="section" id="managing-scheduled-jobs">
<span id="managing"></span><h2>Managing scheduled jobs<a class="headerlink" href="#managing-scheduled-jobs" title="Permalink to this headline">¶</a></h2>
<p>Each job that you create on the <strong>Scheduled Jobs</strong> page has links to
help you manage the job, which allow you to do the following:</p>
<ul class="simple">
<li><strong>Disable</strong> – Stops the scheduled job from running until you click
<strong>Enable</strong>. Disabled jobs move to the <strong>Disabled</strong> list that follows
the <strong>Enabled</strong> list.</li>
<li><strong>Edit</strong> – Opens a window that allows you to change the attributes of
the scheduled job. After you make your changes, click <strong>Edit</strong>.</li>
<li><strong>Remove</strong> – Opens a window that deletes the scheduled job when you
click <strong>Remove</strong>. If you remove a scheduled job, you cannot recover
it, and you must manually recreate it to restore the job.</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">You cannot edit or remove administrative jobs that you did not create
for your environments, including automatic backups.</p>
</div>
<div class="section" id="cron-and-memory-limits">
<span id="memory"></span><h3>Cron and memory limits<a class="headerlink" href="#cron-and-memory-limits" title="Permalink to this headline">¶</a></h3>
<p>Two approaches in using drush cron are to <a class="reference external" href="#wrapper">use the |acquia-product:ac|
wrapper script for drush cron</a> or to <a class="reference external" href="#direct">execute drush cron
directly</a>. These approaches have different memory limits.
When you use the Acquia cron wrapper, the cron job uses the <a class="reference external" href="/acquia-cloud/manage/php#php-mem">PHP memory
limit</a> for your environment (by
default, 128MB). When you use cron directly, it uses the command line
process memory limit, which is 512MB. If you find that your cron jobs
fail to complete, try defining them to use drush cron directly to take
advantage of this higher memory limit. For related information, see
<a class="reference external" href="%5Bacquia-product:kb%5Darticles/debugging-cron">Debugging cron</a>.</p>
</div>
</div>
<div class="section" id="cron-command-examples">
<span id="example"></span><h2>Cron command examples<a class="headerlink" href="#cron-command-examples" title="Permalink to this headline">¶</a></h2>
<p>Use the following examples as you create scheduled jobs for your
application’s environments.</p>
<div class="section" id="using-drush-cron">
<span id="drush-cron"></span><h3>Using drush cron<a class="headerlink" href="#using-drush-cron" title="Permalink to this headline">¶</a></h3>
<p>To use drush cron for enhanced cron performance, select from the
following methods:</p>
<ul class="simple">
<li><a class="reference external" href="#wrapper">Use the Acquia Cloud wrapper script for drush
cron</a></li>
<li><a class="reference external" href="#direct">Execute drush cron directly</a></li>
</ul>
<p>In each of these examples:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">[site]</span></code> is the name of your application on Acquia Cloud.</li>
<li><code class="docutils literal"><span class="pre">[env]</span></code> is your environment (usually one of <code class="docutils literal"><span class="pre">dev</span></code>, <code class="docutils literal"><span class="pre">test</span></code>, or
<code class="docutils literal"><span class="pre">prod</span></code>).</li>
<li><code class="docutils literal"><span class="pre">[site_URL]</span></code> is your environment’s URL (as listed on the <strong>Cloud &gt;
Domains</strong> page). If you are using Drupal multisite, your cron jobs
are specific to each website in the multisite installation. Use the
URL of the website in the installation that you wish to target.</li>
</ul>
<div class="section" id="use-the-acquia-cloud-wrapper-script-for-drush-cron">
<span id="wrapper"></span><h4>Use the Acquia Cloud wrapper script for drush cron<a class="headerlink" href="#use-the-acquia-cloud-wrapper-script-for-drush-cron" title="Permalink to this headline">¶</a></h4>
<p>Use a cron command like this:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>/usr/local/bin/cron-wrapper.sh <span class="o">[</span>site<span class="o">]</span>.<span class="o">[</span>env<span class="o">]</span> http://<span class="o">[</span>site_URL<span class="o">]</span>
</pre></div>
</div>
<p>Note that you do not need to append a <code class="docutils literal"><span class="pre">cron_key</span></code> to the website URL.
The output of drush cron is logged to a file with a name like
<code class="docutils literal"><span class="pre">/var/log/sites/[site].[env]/logs/[server]/drush-cron.log</span></code>. For
example, if your site name was <code class="docutils literal"><span class="pre">example</span></code>, the log file for the prod
environment might be named
<code class="docutils literal"><span class="pre">/var/log/sites/example.prod/logs/web-9876/drush-cron.log</span></code>.</p>
</div>
<div class="section" id="execute-drush-cron-directly">
<span id="direct"></span><h4>Execute drush cron directly<a class="headerlink" href="#execute-drush-cron-directly" title="Permalink to this headline">¶</a></h4>
<div class="highlight-none"><div class="highlight"><pre><span></span>drush @[site].[env] -dv -l http://[site_URL] cron &amp;&gt;&gt; /var/log/sites/${AH_SITE_NAME}/logs/$(hostname -s)/drush-cron.log
</pre></div>
</div>
<p>In this example,
<code class="docutils literal"><span class="pre">&amp;&gt;&gt;</span> <span class="pre">/var/log/sites/${AH_SITE_NAME}/logs/$(hostname</span> <span class="pre">-s)/drush-cron.log</span></code>
logs the cron output to a <code class="docutils literal"><span class="pre">drush-cron.log</span></code> file in the server’s logs
directory. As already noted, cron jobs should always include a logging
statement, as in this example.</p>
<p>For instances where you want a single hook, you can also execute a
specific cron hook directly. The command structure will vary based on
your Drupal version and module. For example:</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>drush -v ev &quot;mymodule_cron();&quot;  &amp;&gt;&gt; /var/log/sites/${AH_SITE_NAME}/logs/$(hostname -s)/drush-cron.log
</pre></div>
</div>
<p>The previous command will log output to the standard log files, ensuring
that log rotation and maintenance continues.</p>
</div>
</div>
<div class="section" id="executing-a-shell-script">
<span id="shell"></span><h3>Executing a shell script<a class="headerlink" href="#executing-a-shell-script" title="Permalink to this headline">¶</a></h3>
<p>You can create scheduled jobs to execute shell scripts that you have
written.</p>
<p>For this example we will assume that you have added
<code class="docutils literal"><span class="pre">scripts/my-script.sh</span></code> to your repository.</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>/var/www/html/[site].[env]/scripts/my-script.sh
</pre></div>
</div>
<p>where <code class="docutils literal"><span class="pre">[site].[env]</span></code> is your site name and environment.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">We highly recommend that you add your shell scripts to your source code
repository. We also recommend adding a <code class="docutils literal"><span class="pre">library</span></code> or <code class="docutils literal"><span class="pre">scripts</span></code> folder
to your repository in the same directory as <code class="docutils literal"><span class="pre">acquia-utils</span></code> and
<a class="reference external" href="/articles/docroot-definition"><code class="docutils literal"><span class="pre">[docroot]</span></code></a>.</p>
</div>
</div>
</div>
<div class="section" id="related-topic">
<span id="related"></span><h2>Related topic<a class="headerlink" href="#related-topic" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><a class="reference external" href="%5Bacquia-product:kb%5Darticles/debugging-cron">Debugging cron</a></li>
</ul>
</div>
</div>


        
    </div>
</div>

    
<div class="row">
    <div class="small-4 large-3 columns"></div>
    <div id="relinks" class="small-8 large-9 columns">
        <div class="pagination-wrapper">
            <div class="prev">
                <a href="configure.html" title="Configuring an environment"><b>‹&nbsp;</b>Configuring an environment</a>
            </div>
            
            <div class="next">
                <a href="database.html" title="Working with databases">Working with databases<b>&nbsp;›</b></a>
            </div>
            
        </div>
    </div>
</div>



    
<div class="assistance-wrapper">
	<div class="assistance-tbl">
		<div class="col">
			<p><img src="/_static/phone.png" alt="Contact support">Still need assistance? <strong><a href="https://docs.acquia.com/support">Contact Acquia Support</a></strong></p>
		</div>
	</div>
</div>
<div class="support">
	<div class="support-tbl">
		<div class="col left">
			<h2><a href="https://www.acquia.com/customer-success/acquia-global-support">Support</a></h2>
			<ul class="no-bullet">
				<li><a class="light-link" href="https://www.acquia.com/support">Contact Support</a></li>
			</ul>
		</div>
		<div class="col middle">
			<h2><a href="https://www.acquia.com/about-us">About Acquia</a></h2>
			<ul class="no-bullet">
				<li><a class="light-link" href="https://www.acquia.com/about-us">About Us</a></li>
				<li><a class="light-link" href="https://www.acquia.com/about-us/leadership">Leadership</a></li>
				<li><a class="light-link" href="https://www.acquia.com/about-us/board">Board of Directors</a></li>
				<li><a class="light-link" href="https://www.acquia.com/investors">Investors</a></li>
				<li><a class="light-link" href="https://www.acquia.com/about-us/newsroom">Newsroom</a></li>
				<li><a class="light-link" href="https://www.acquia.com/careers">Careers</a></li>
				<li><a class="light-link" href="https://www.acquia.com/about-us/contact">Contact Us</a></li>
			</ul>
			<ul class="social-media">
				<li>
					<a class="fa fa-twitter fa-lg ext" href="https://twitter.com/acquia" target="_blank" rel="nofollow">
						<span class="hide">Twitter</span>
					</a>
				</li>
				<li>
					<a class="fa fa-facebook fa-lg ext" href="https://www.facebook.com/acquia" target="_blank" rel="nofollow">
						<span class="hide">Facebook</span>
					</a>
				</li>
				<li>
					<a class="fa fa-github-alt fa-lg ext" href="https://github.com/acquia" target="_blank" rel="nofollow">
						<span class="hide">Github</span>
					</a>
				</li>
				<li>
					<a class="fa fa-linkedin-in fa-lg ext" href="http://www.linkedin.com/company/167056" target="_blank" rel="nofollow">
						<span class="hide">LinkedIn</span>
					</a>
				</li>
				<li>
					<a class="fa fa-google-plus-g fa-lg ext" href="https://plus.google.com/+acquia" target="_blank" rel="nofollow">
						<span class="hide">Google+</span>
					</a>
				</li>
				<li>
					<a class="fa fa-play fa-lg ext" href="https://www.youtube.com/user/AcquiaTV" target="_blank" rel="nofollow">
						<span class="hide">YouTube</span>
					</a>
				</li>
				<li>
					<a class="fa fa-envelope fa-lg" href="https://www.acquia.com/about-us/contact">
						<span class="hide">Contact Us</span>
					</a>
				</li>
			</ul>
		</div>
		<div class="col right">
			<div class="centered">
				<p>
					<img alt="Acquia: Think Ahead" src="/_static/acquia-logo-think-ahead-black-small.svg">
				</p>
				<p class="margin-left-half">
					<span>53 State Street, 10th Floor<br>
					Boston, MA 02109<br>
					United States<br>
					Phone: 888-922-7842</span><br>
					Map: <a class="decorate ext" href="http://maps.google.com/?q=42.358429+-71.056184+%2853+State+Street%2C+10th+Floor%2C+Boston%2C+MA%2C+02109%2C+us%29" target="_blank" rel="nofollow">Google Maps<span class="ext"><span class="element-invisible"> </span></span></a><br><a class="decorate" href="https://www.acquia.com/about-us/contact#block-views-locations-block-1">View other locations</a>
				</p>
			</div>
		</div>
	</div>
</div>
<div class="top-bar row column">
	<div class="footer" role="contentinfo">Copyright &copy 2018 Acquia Inc. All Rights Reserved. </br>Drupal is a registered trademark of <a href="https://dri.es/">Dries Buytaert</a>. All product names, logos, and brands are property of their respective owners.
    </div>
</div>
    </div>

    <script> $(document).foundation() </script>
    <script type="text/javascript">
      (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
      (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
      e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
      })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

      _st('install','2_Wi1aQvEeu61haxG8TX','2.0.0');
    </script>

  </body>
</html>