
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Using multi-region failover &#8212; Acquia Help Center</title>
    <link rel="stylesheet" href="../../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/foundation-sphinx.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '1.0.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../../_static/what-input/what-input.min.js"></script>
    <script type="text/javascript" src="../../_static/foundation-sites/foundation.min.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Viewing activity notifications" href="notify.html" />
    <link rel="prev" title="Additional environments for Acquia Cloud Enterprise" href="more-envs.html" /> 
  </head>
  <body>

    
<header>
<div class="topbar">
    <div class="col left">
        <a href="/" title="Acquia Help Center Home" class="logo">Acquia Help Center</a>
    </div>
    <div class="col right">
      <ul class="main-nav">
        <li>
          <a href="https://www.acquia.com" title="Go to www.acquia.com for our latest information.">Acquia.com</a>
        </li>
        <li>
            <a href="https://dev.acquia.com" title="Acquia's Developer Center: developers.acquia.com">Developers</a>
        </li>
        <li>
            <a href="https://training.acquia.com" title="Go to training.acquia.com to find out about courses and certifications.">Training</a>
        </li>
        <li>
            <a href="/site-search" data-drupal-link-system-path="site-search">Search</a>
        </li>
      </ul>
    </div>
</div>
<div class="bottombar">
    <div class="searchbar-wrapper">
        <form action="search.html" method="get" class="searchbar">
            <div class="search-title">Need help finding something? <strong>Start Here.</strong></div>
            <div class="search-box">
                <input type="search" name="q" maxlength="128" size="15" value="" class="st-default-search-input">
                <input type="hidden" name="check_keywords" value="yes">
                <input type="hidden" name="area" value="default">
            </div>
            <div class="search-btn">
                <input class="btn-search button" type="submit" id="edit-submit-acquia-search" value="Search Docs">
            </div>
        </form>
    </div>
	</div>
</header>



    
<div class="breadcrumbs-wrapper">
	<ul>
        
        <li><a href="../../index.html">Home</a></li>
        
        <li><a href="../../acquia-cloud.html" >Acquia Cloud</a></li>
        <li><a href="../manage.html" accesskey="U">Managing applications with Acquia Cloud</a></li>
        <li class="current">Using multi-region failover</li>
	</ul>
</div>


<div class="row">
    
        
  <div class="small-4 large-3 columns" id="sidebar" data-sticky-container>
      <div class="sticky" data-sticky data-margin-top="0"><ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../../acquia-cloud.html">Acquia Cloud</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../free.html">Getting started with Acquia Cloud Free</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cloud-ui.html">Using the Acquia Cloud interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="../arch.html">Acquia Cloud architecture and key concepts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ready.html">Acquia Cloud onboarding guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../create.html">Creating a new application on Acquia Cloud</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../manage.html">Managing applications with Acquia Cloud</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="antivirus.html">Enabling virus scanning for file uploads</a></li>
<li class="toctree-l3"><a class="reference internal" href="applications.html">Managing applications with the Acquia Cloud interface</a></li>
<li class="toctree-l3"><a class="reference internal" href="back-up.html">Backing up your application</a></li>
<li class="toctree-l3"><a class="reference internal" href="configure.html">Configuring an environment</a></li>
<li class="toctree-l3"><a class="reference internal" href="cron.html">Using scheduled jobs to maintain your application</a></li>
<li class="toctree-l3"><a class="reference internal" href="database.html">Working with databases</a></li>
<li class="toctree-l3"><a class="reference internal" href="domains.html">Managing domains</a></li>
<li class="toctree-l3"><a class="reference internal" href="email.html">About email in Acquia Cloud applications</a></li>
<li class="toctree-l3"><a class="reference internal" href="environments.html">Working with environments</a></li>
<li class="toctree-l3"><a class="reference internal" href="export.html">Exporting an application from Acquia Cloud</a></li>
<li class="toctree-l3"><a class="reference internal" href="files.html">Working with files</a></li>
<li class="toctree-l3"><a class="reference internal" href="htaccess.html">Redirecting visitor requests with the .htaccess file</a></li>
<li class="toctree-l3"><a class="reference internal" href="ipv6.html">Using IPv6 IP addresses</a></li>
<li class="toctree-l3"><a class="reference internal" href="more-envs.html">Additional environments for Acquia Cloud Enterprise</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Using multi-region failover</a></li>
<li class="toctree-l3"><a class="reference internal" href="notify.html">Viewing activity notifications</a></li>
<li class="toctree-l3"><a class="reference internal" href="php.html">Configuring PHP settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="prod-mode.html">Using Production mode to protect your live application</a></li>
<li class="toctree-l3"><a class="reference internal" href="reset.html">Starting over with an Acquia Cloud subscription</a></li>
<li class="toctree-l3"><a class="reference internal" href="servers.html">Managing Acquia Cloud servers</a></li>
<li class="toctree-l3"><a class="reference internal" href="sftp.html">Connecting to Acquia Cloud with an FTP client</a></li>
<li class="toctree-l3"><a class="reference internal" href="ssh.html">Managing applications using the command line</a></li>
<li class="toctree-l3"><a class="reference internal" href="uptime.html">Monitoring uptime for your application</a></li>
<li class="toctree-l3"><a class="reference internal" href="variables.html">Using environment variables with Node.js applications</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../monitor.html">Monitoring your applications and infrastructure</a></li>
<li class="toctree-l2"><a class="reference internal" href="../access.html">Controlling access to Acquia Cloud</a></li>
<li class="toctree-l2"><a class="reference internal" href="../insight.html">Acquia Insight</a></li>
<li class="toctree-l2"><a class="reference internal" href="../develop.html">Developing applications on Acquia Cloud</a></li>
<li class="toctree-l2"><a class="reference internal" href="../node-js.html">Node.js and Acquia Cloud</a></li>
<li class="toctree-l2"><a class="reference internal" href="../container.html">Containers in Acquia Cloud</a></li>
<li class="toctree-l2"><a class="reference internal" href="../performance.html">Improving application performance</a></li>
<li class="toctree-l2"><a class="reference internal" href="../subs.html">Managing subscriptions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cd.html">Acquia Cloud CD</a></li>
<li class="toctree-l2"><a class="reference internal" href="../glossary.html">Acquia Cloud glossary</a></li>
<li class="toctree-l2"><a class="reference internal" href="../known-issues.html">Known issues in Acquia Cloud</a></li>
<li class="toctree-l2"><a class="reference internal" href="../release-notes.html">Release notes - Acquia Cloud</a></li>
<li class="toctree-l2"><a class="reference internal" href="../self-service-scaling.html">Using a Cloud Service Management plan</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ssl.html">Enabling SSL</a></li>
<li class="toctree-l2"><a class="reference internal" href="../teams.html">Managing users, teams, roles, and permissions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../edge.html">Acquia Cloud Edge</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../shield.html">Acquia Cloud Shield</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../site-factory.html">Acquia Cloud Site Factory</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../commerce.html">Acquia Commerce Manager</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dam.html">Acquia DAM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dev-desktop.html">Acquia Dev Desktop</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../journey.html">Acquia Journey</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../lift.html">Acquia Lift</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api.html">Acquia Platform APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../acquia-search.html">Acquia Search</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../devtools.html">Developer tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../lightning.html">Lightning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../support.html">Acquia Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ra.html">Remote Administration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../resource.html">Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials.html">Acquia Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../guide.html">Products and Services Guide</a></li>
</ul>

      </div>
  </div>
    
    <div id="content" class="small-8 large-9 columns">
        
            
  <div class="section" id="using-multi-region-failover">
<h1>Using multi-region failover<a class="headerlink" href="#using-multi-region-failover" title="Permalink to this headline">¶</a></h1>
<p>Through multi-region failover, Acquia provides Continuity-as-a-Service
using a hot cloud recovery model. With multi-region failover, your
Production application has a cloned version of its full stack in a
secondary failover region. In the event of a failure or substantial
impairment in your primary region, your application can be switched
immediately to the clone in the secondary region. Multi-region failover
is available for Acquia Cloud Enterprise applications as an add-on service
at an extra cost.</p>
<p>To use multi-region failover, you must also use a CDN service, such as
<a class="reference external" href="/acquia-cloud/edge">Acquia Cloud Edge CDN</a>. This is important to
avoid an interruption in service; the CDN can continue to serve cached
content while your application is switching over to the secondary
region.</p>
<p>Multi-region failover on Acquia Cloud supports only a single
application on a single codebase. Multi-region failover does not support
multisites or multiple codebases on a common production server cluster,
due to the difficulties associated with properly re-syncing these types
of applications after a full or partial failover.</p>
<div class="section" id="how-it-works">
<span id="how"></span><h2>How it works<a class="headerlink" href="#how-it-works" title="Permalink to this headline">¶</a></h2>
<p><a class="no-sb reference internal" href="https://cdn4.webdamdb.com/1280_2ZiEUw6un0I9.png?1526476108"><img alt="Multi-region failover architecture" class="no-sb" src="https://cdn4.webdamdb.com/1280_2ZiEUw6un0I9.png?1526476108" style="width: 590px; height: 327px;" /></a></p>
<p>When you choose multi-region failover for your Acquia Cloud Enterprise
application, Acquia duplicates your Production environment in a
different region from your primary region. For example, if your
application is hosted in the <em>US-East</em> region, your secondary
application might be created in the <em>US-West</em> region. The secondary
hardware cluster is configured to receive the same code deployments as
the primary cluster, so that it is always running the same code. In
addition, multi-region failover uses database replication to keep the
primary and secondary database servers in sync in both the primary and
secondary regions. This means that any changes to the database in either
the primary or secondary region will immediately sync to the database
servers in the other region.</p>
<p>During normal operations, your application continuously runs a special
one-way <code class="docutils literal"><span class="pre">rsync</span></code> process on the primary region application, which
ensures that any files added to the primary region are also sent to the
servers in the secondary (failover) region.</p>
<p>The combination of the synced code, databases, and files means that the
failover region and primary region are functionally identical. The main
difference, aside from the location of the hardware, is that each region
is assigned its own distinct Elastic IP (EIP) address.</p>
</div>
<div class="section" id="the-failover-process">
<span id="failover"></span><h2>The failover process<a class="headerlink" href="#the-failover-process" title="Permalink to this headline">¶</a></h2>
<p>In the event of an emergency in your application’s primary region, the
Acquia multi-region failover configuration ensures that there is an
alternative functional version of your live production application. This
might be an event that causes the primary hosting region to be, in part
or in whole, impaired or inoperative in such a way that Acquia’s support
teams cannot restore full service in the primary region immediately or
within a reasonable amount of time.</p>
<p>The multi-region failover configuration should not to be used to reduce
the impact of routine maintenance or upsizes, to mitigate the impact of
high-traffic events if your primary region’s hardware reaches capacity,
or to attempt to work around incidents where adverse code, file, or
database changes have been deployed to your Production application.</p>
<p>In the event of an emergency, you can begin the failover process at any
time; you do not need Acquia’s assistance. If your application uses
Acquia Cloud Edge CDN, you can request that Acquia Support assist with
the failover process. In any case, you should notify Acquia as soon as
possible, so that Acquia does not take any conflicting actions in
addressing the emergency.</p>
<p>To initiate the failover process, configure your application’s CDN
settings to point to the Elastic IP address of the secondary region,
instead of the primary region. You can find the Elastic IP addresses on
the page of the Acquia Cloud interface. After the CDN changes take effect,
requests to the application will be handled by servers in the secondary
region, instead of the primary region.</p>
<p>Because the caches in the secondary region will be empty at first,
performance may be slower immediately following failover until the
caches rebuild.</p>
<div class="section" id="cron-and-failover">
<span id="cron"></span><h3>Cron and failover<a class="headerlink" href="#cron-and-failover" title="Permalink to this headline">¶</a></h3>
<p>Cron jobs in Acquia Cloud are set to run on servers in the
primary region. Upon failover, Acquia Support can edit cron jobs to run
in the secondary region instead of the primary region. Cron jobs do not
automatically transfer over to servers in the secondary region upon
failover. For more information, see <a class="reference external" href="/acquia-cloud/manage/cron">Using scheduled jobs to maintain
your application</a>.</p>
</div>
</div>
<div class="section" id="operating-while-in-failover">
<span id="operating"></span><h2>Operating while in failover<a class="headerlink" href="#operating-while-in-failover" title="Permalink to this headline">¶</a></h2>
<p>While your application is being served from the secondary region, many
common Acquia Cloud workflow tasks may not function properly. The
secondary region includes a clone of your Production environment, but
not other environments (such as Development and Staging). Workflow tasks
that are designed to facilitate communications between servers in the
same region won’t work between environments in different regions. In
other instances (such as full or partial region-wide failures), tasks
may fail because Acquia’s code repository or task management servers in
those regions are also impaired.</p>
<div class="admonition important">
<p class="first admonition-title">Important</p>
<p class="last">For these reasons, while your application is operating in the secondary
region, do not attempt any file or database copy, code commit, or code
deployment tasks.</p>
</div>
</div>
<div class="section" id="the-failback-process">
<span id="failback"></span><h2>The failback process<a class="headerlink" href="#the-failback-process" title="Permalink to this headline">¶</a></h2>
<p>After the emergency in the primary region has been resolved, you will
need to restore your application to its previous configuration so that
it is again served from the primary region. This process is called
<em>failback</em>.</p>
<p>Before initiating failback to the primary region, notify Acquia Support
to confirm the date and time of the failback. At the time of the
failback, Acquia will perform one final manual sync of the application’s
files between the secondary and primary regions to ensure that there are
no issues or inconsistencies. Acquia will then authorize you to proceed
with the CDN failback to the primary region, pointing the CDN settings
to the Elastic IP address of the primary region. If your application
uses Acquia Cloud Edge CDN, you can request that Acquia Support assist
with the failback.</p>
<p>Similar to when your application first fails over to the secondary
region, caches in the primary region may be stale at the time of
failback, so site performance may be reduced while the caches rebuild.</p>
</div>
<div class="section" id="ssl-and-multi-region-failover">
<span id="ssl"></span><h2>SSL and multi-region failover<a class="headerlink" href="#ssl-and-multi-region-failover" title="Permalink to this headline">¶</a></h2>
<p>If you use SSL with your application, you can either provide Acquia with
a single functional SSL certificate for installation on the dedicated
load balancers in both the primary and secondary region, or Acquia can
purchase an SSL certificate on your behalf and install it in both
regions.</p>
<p>Acquia strongly recommends the <a class="reference external" href="/acquia-cloud/ssl#sni">standard</a>
method for SSL certificates.</p>
</div>
<div class="section" id="acquia-product-as-and-multi-region-failover">
<span id="multi"></span><h2>Acquia Search and multi-region failover<a class="headerlink" href="#acquia-product-as-and-multi-region-failover" title="Permalink to this headline">¶</a></h2>
<p>If you use <a class="reference external" href="/acquia-search">Acquia Search</a>, you can also use it
in a multi-region failover configuration, at an additional cost. If you
choose to do this, Acquia establishes a dedicated search farm in both
the primary and the secondary regions, with a separate search key for
each region.</p>
<p>To switch Acquia Search to the secondary region during a failover,
configure your application to use the search key for the secondary
region by entering the secondary region’s key on your Drupal
application’s <code class="docutils literal"><span class="pre">admin/config/system/acquia-agent/credentials</span></code> page. The
application in the secondary region must then be re-indexed.</p>
</div>
<div class="section" id="testing-the-failover-process">
<span id="test"></span><h2>Testing the failover process<a class="headerlink" href="#testing-the-failover-process" title="Permalink to this headline">¶</a></h2>
<p>Acquia tests multi-region failovers during the setup process. After this
functionality is in place, Acquia does not support any additional
testing, and will not provide assistance with failovers or failbacks
unrelated to an emergency event in your primary region.</p>
</div>
</div>


        
    </div>
</div>

    
<div class="row">
    <div class="small-4 large-3 columns"></div>
    <div id="relinks" class="small-8 large-9 columns">
        <div class="pagination-wrapper">
            <div class="prev">
                <a href="more-envs.html" title="Additional environments for Acquia Cloud Enterprise"><b>‹&nbsp;</b>Additional environments for Acquia Cloud Enterprise</a>
            </div>
            
            <div class="next">
                <a href="notify.html" title="Viewing activity notifications">Viewing activity notifications<b>&nbsp;›</b></a>
            </div>
            
        </div>
    </div>
</div>



    
<div class="assistance-wrapper">
	<div class="assistance-tbl">
		<div class="col">
			<p><img src="/_static/phone.png" alt="Contact support">Still need assistance? <strong><a href="https://docs.acquia.com/support">Contact Acquia Support</a></strong></p>
		</div>
	</div>
</div>
<div class="support">
	<div class="support-tbl">
		<div class="col left">
			<h2><a href="https://www.acquia.com/customer-success/acquia-global-support">Support</a></h2>
			<ul class="no-bullet">
				<li><a class="light-link" href="https://www.acquia.com/support">Contact Support</a></li>
			</ul>
		</div>
		<div class="col middle">
			<h2><a href="https://www.acquia.com/about-us">About Acquia</a></h2>
			<ul class="no-bullet">
				<li><a class="light-link" href="https://www.acquia.com/about-us">About Us</a></li>
				<li><a class="light-link" href="https://www.acquia.com/about-us/leadership">Leadership</a></li>
				<li><a class="light-link" href="https://www.acquia.com/about-us/board">Board of Directors</a></li>
				<li><a class="light-link" href="https://www.acquia.com/investors">Investors</a></li>
				<li><a class="light-link" href="https://www.acquia.com/about-us/newsroom">Newsroom</a></li>
				<li><a class="light-link" href="https://www.acquia.com/careers">Careers</a></li>
				<li><a class="light-link" href="https://www.acquia.com/about-us/contact">Contact Us</a></li>
			</ul>
			<ul class="social-media">
				<li>
					<a class="fa fa-twitter fa-lg ext" href="https://twitter.com/acquia" target="_blank" rel="nofollow">
						<span class="hide">Twitter</span>
					</a>
				</li>
				<li>
					<a class="fa fa-facebook fa-lg ext" href="https://www.facebook.com/acquia" target="_blank" rel="nofollow">
						<span class="hide">Facebook</span>
					</a>
				</li>
				<li>
					<a class="fa fa-github-alt fa-lg ext" href="https://github.com/acquia" target="_blank" rel="nofollow">
						<span class="hide">Github</span>
					</a>
				</li>
				<li>
					<a class="fa fa-linkedin-in fa-lg ext" href="http://www.linkedin.com/company/167056" target="_blank" rel="nofollow">
						<span class="hide">LinkedIn</span>
					</a>
				</li>
				<li>
					<a class="fa fa-google-plus-g fa-lg ext" href="https://plus.google.com/+acquia" target="_blank" rel="nofollow">
						<span class="hide">Google+</span>
					</a>
				</li>
				<li>
					<a class="fa fa-play fa-lg ext" href="https://www.youtube.com/user/AcquiaTV" target="_blank" rel="nofollow">
						<span class="hide">YouTube</span>
					</a>
				</li>
				<li>
					<a class="fa fa-envelope fa-lg" href="https://www.acquia.com/about-us/contact">
						<span class="hide">Contact Us</span>
					</a>
				</li>
			</ul>
		</div>
		<div class="col right">
			<div class="centered">
				<p>
					<img alt="Acquia: Think Ahead" src="/_static/acquia-logo-think-ahead-black-small.svg">
				</p>
				<p class="margin-left-half">
					<span>53 State Street, 10th Floor<br>
					Boston, MA 02109<br>
					United States<br>
					Phone: 888-922-7842</span><br>
					Map: <a class="decorate ext" href="http://maps.google.com/?q=42.358429+-71.056184+%2853+State+Street%2C+10th+Floor%2C+Boston%2C+MA%2C+02109%2C+us%29" target="_blank" rel="nofollow">Google Maps<span class="ext"><span class="element-invisible"> </span></span></a><br><a class="decorate" href="https://www.acquia.com/about-us/contact#block-views-locations-block-1">View other locations</a>
				</p>
			</div>
		</div>
	</div>
</div>
<div class="top-bar row column">
	<div class="footer" role="contentinfo">Copyright &copy 2018 Acquia Inc. All Rights Reserved. </br>Drupal is a registered trademark of <a href="https://dri.es/">Dries Buytaert</a>. All product names, logos, and brands are property of their respective owners.
    </div>
</div>
    </div>

    <script> $(document).foundation() </script>
    <script type="text/javascript">
      (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
      (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
      e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
      })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

      _st('install','2_Wi1aQvEeu61haxG8TX','2.0.0');
    </script>

  </body>
</html>