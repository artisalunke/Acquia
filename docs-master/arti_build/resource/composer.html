
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Using Composer with Drupal 8 sites &#8212; Acquia Help Center</title>
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <link rel="stylesheet" href="../_static/foundation-sphinx.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.0.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../_static/what-input/what-input.min.js"></script>
    <script type="text/javascript" src="../_static/foundation-sites/foundation.min.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Migrating a Drupal 8 site into a Composer-managed build" href="composer/d8-migrate.html" />
    <link rel="prev" title="Browser developer tools" href="browser-tool.html" /> 
  </head>
  <body>

    
<header>
<div class="topbar">
    <div class="col left">
        <a href="/" title="Acquia Help Center Home" class="logo">Acquia Help Center</a>
    </div>
    <div class="col right">
      <ul class="main-nav">
        <li>
          <a href="https://www.acquia.com" title="Go to www.acquia.com for our latest information.">Acquia.com</a>
        </li>
        <li>
            <a href="https://dev.acquia.com" title="Acquia's Developer Center: developers.acquia.com">Developers</a>
        </li>
        <li>
            <a href="https://training.acquia.com" title="Go to training.acquia.com to find out about courses and certifications.">Training</a>
        </li>
        <li>
            <a href="/site-search" data-drupal-link-system-path="site-search">Search</a>
        </li>
      </ul>
    </div>
</div>
<div class="bottombar">
    <div class="searchbar-wrapper">
        <form action="search.html" method="get" class="searchbar">
            <div class="search-title">Need help finding something? <strong>Start Here.</strong></div>
            <div class="search-box">
                <input type="search" name="q" maxlength="128" size="15" value="" class="st-default-search-input">
                <input type="hidden" name="check_keywords" value="yes">
                <input type="hidden" name="area" value="default">
            </div>
            <div class="search-btn">
                <input class="btn-search button" type="submit" id="edit-submit-acquia-search" value="Search Docs">
            </div>
        </form>
    </div>
	</div>
</header>



    
<div class="breadcrumbs-wrapper">
	<ul>
        
        <li><a href="../index.html">Home</a></li>
        
        <li><a href="../resource.html" accesskey="U">Resources</a></li>
        <li class="current">Using Composer with Drupal 8 sites</li>
	</ul>
</div>


<div class="row">
    
        
  <div class="small-4 large-3 columns" id="sidebar" data-sticky-container>
      <div class="sticky" data-sticky data-margin-top="0"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../acquia-cloud.html">Acquia Cloud</a></li>
<li class="toctree-l1"><a class="reference internal" href="../edge.html">Acquia Cloud Edge</a></li>
<li class="toctree-l1"><a class="reference internal" href="../shield.html">Acquia Cloud Shield</a></li>
<li class="toctree-l1"><a class="reference internal" href="../site-factory.html">Acquia Cloud Site Factory</a></li>
<li class="toctree-l1"><a class="reference internal" href="../commerce.html">Acquia Commerce Manager</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dam.html">Acquia DAM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev-desktop.html">Acquia Dev Desktop</a></li>
<li class="toctree-l1"><a class="reference internal" href="../journey.html">Acquia Journey</a></li>
<li class="toctree-l1"><a class="reference internal" href="../lift.html">Acquia Lift</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api.html">Acquia Platform APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../acquia-search.html">Acquia Search</a></li>
<li class="toctree-l1"><a class="reference internal" href="../devtools.html">Developer tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../lightning.html">Lightning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../support.html">Acquia Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ra.html">Remote Administration</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../resource.html">Resources</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="browser-tool.html">Browser developer tools</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Using Composer with Drupal 8 sites</a><ul>
<li class="toctree-l3"><a class="reference internal" href="composer/d8-migrate.html">Migrating a Drupal 8 site into a Composer-managed build</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="governance.html">Planning your governance strategy</a></li>
<li class="toctree-l2"><a class="reference internal" href="module-install-d7.html">How to install a Drupal 7 module</a></li>
<li class="toctree-l2"><a class="reference internal" href="module-install-d8.html">How to install a Drupal 8 module</a></li>
<li class="toctree-l2"><a class="reference internal" href="secrets.html">Storing sensitive information outside of your codebase</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials.html">Acquia Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guide.html">Products and Services Guide</a></li>
</ul>

      </div>
  </div>
    
    <div id="content" class="small-8 large-9 columns">
        
            
  <div class="section" id="using-composer-with-drupal-8-sites">
<h1>Using Composer with Drupal 8 sites<a class="headerlink" href="#using-composer-with-drupal-8-sites" title="Permalink to this headline">¶</a></h1>
<div class="toctree-wrapper compound">
</div>
<p><a class="reference external" href="https://getcomposer.org/">Composer</a> is a tool for managing PHP
dependencies for your website or application. It allows you to declare
the libraries your project depends on, and it will install and update
them for you.</p>
<p>For full instructions about downloading and installing Composer for your
operating system, see <a class="reference external" href="https://getcomposer.org/doc/00-intro.md">Composer’s Getting Started
guide</a>.</p>
<div class="section" id="using-composer-with-acquia-cloud">
<h2>Using Composer with Acquia Cloud<a class="headerlink" href="#using-composer-with-acquia-cloud" title="Permalink to this headline">¶</a></h2>
<p>Because Composer is not installed on Acquia Cloud, we recommend
that you install Composer locally and use it with your local copy to
perform updates and manage dependencies. You can then deploy your build
artifact to your Acquia Cloud environments using the
<a class="reference external" href="/acquia-cloud/develop/pipelines">|acquia-product:ac| pipelines
feature</a>.</p>
<p>To follow best practices with Composer, you should maintain a source
code (<em>source</em>) repository for your project that is separate from your
Acquia Cloud (<em>build</em>) repository. Your <em>source</em> repository
should contain only the minimum amount of code required to build your
project, such as a <code class="docutils literal"><span class="pre">composer.json</span></code> file, <code class="docutils literal"><span class="pre">composer.lock</span></code> file, and
any custom modules or settings. The <em>source</em> repository should not
contain copies of your Composer dependencies. Your <em>build</em> repository
(hosted on Acquia Cloud) should contain static snapshots, called
<em>build artifacts</em>, of your entire codebase (including Composer
dependencies) that are ready for deployment to Acquia Cloud.</p>
<p>To move code between your <em>source</em> and <em>build</em> repositories, you can use
one of the following methods:</p>
<ul class="simple">
<li>Copy the necessary files locally</li>
<li>Use a continuous integration service, such as the
<a class="reference external" href="/acquia-cloud/develop/pipelines">|acquia-product:ac| pipelines
feature</a></li>
<li>Use a tool that automates this process (such as Acquia BLT)</li>
</ul>
<p>It is possible, but not recommended, to use a Composer-based workflow
with only a single repository. Using a single repository creates a
brittle development workflow, which can make it difficult to maintain
code consistency. For instance, with a single repository, the versions
of dependencies in <code class="docutils literal"><span class="pre">composer.json</span></code> and the versions of dependencies
actually committed to the repository must be kept in sync, which
introduces a high risk of human error.</p>
<p>If you are unable to use the <a class="reference external" href="/acquia-cloud/develop/pipelines">|acquia-product:ac| pipelines
feature</a>, you can use Composer based
on the following methods:</p>
<ul class="simple">
<li><em>Using |acquia-product:blt| ``deploy`` commands</em>, as described in the
Acquia BLT <a class="reference external" href="http://blt.readthedocs.io/en/latest/readme/deploy/">Deployment
workflow</a></li>
<li><em>Installing Composer through Live Development (not recommended)</em>
It is also possible to install Composer in Acquia Cloud, but
to do so you will need to both enable <a class="reference external" href="/acquia-cloud/develop/livedev">Live
Development</a> and follow normal Git
workflow for checking out the code (including adding the changed
flags, committing the changes, and pushing to origin).
After installing Composer, using Composer on Acquia Cloud
requires Live Development mode to be enabled. For more information
about working with Live Development, see <a class="reference external" href="/acquia-cloud/develop/livedev-workflow">Live Development
workflow</a>.
By default the <code class="docutils literal"><span class="pre">.gitignore</span></code> file ignores the <code class="docutils literal"><span class="pre">Vendor</span></code> directory,
which makes sense if you are using Composer on Acquia Cloud
directly.</li>
</ul>
</div>
<div class="section" id="using-composer-with-drupal">
<h2>Using Composer with Drupal<a class="headerlink" href="#using-composer-with-drupal" title="Permalink to this headline">¶</a></h2>
<p>In Drupal versions 8.1 and greater, Drupal core uses Composer to manage
dependencies, which can include Drupal modules. For more information,
see the following Drupal.org resources:</p>
<ul class="simple">
<li><a class="reference external" href="https://www.drupal.org/node/2404989">Using Composer in a Drupal
project</a></li>
<li><a class="reference external" href="https://www.drupal.org/node/2718229">Using Composer to install Drupal packages through
Drupal.org</a></li>
</ul>
<p>Starting with Drupal 8.4, a minimum version of Drush 8.1.12 is required
if installed globally, and Drush 8.1.15 if required at the project level
using Composer.</p>
<ul class="simple">
<li><a class="reference external" href="https://www.drupal.org/node/2874827">Drupal Core issue describing Drupal 8 and Drush compatibility
scenarios</a></li>
<li><a class="reference external" href="https://github.com/drush-ops/drush">Drush Github project</a></li>
<li><a class="reference external" href="http://docs.drush.org/en/master/">Drush documentation</a></li>
</ul>
</div>
<div class="section" id="migrating-into-a-composer-managed-build">
<h2>Migrating into a Composer-managed build<a class="headerlink" href="#migrating-into-a-composer-managed-build" title="Permalink to this headline">¶</a></h2>
<p>Migrating an existing Drupal 8 website into a Composer-managed build
requires building a <code class="docutils literal"><span class="pre">composer.json</span></code> file that includes all of the
required packages for your existing website. For more information about
the migration process, see the <a class="reference external" href="%5Bkb%5Darticle/composer-migrate-existing-d8-site-composer-managed-build">Composer: Migrate an existing D8 site
into a Composer-managed
build</a>
knowledgebase article.</p>
</div>
</div>


        
    </div>
</div>

    
<div class="row">
    <div class="small-4 large-3 columns"></div>
    <div id="relinks" class="small-8 large-9 columns">
        <div class="pagination-wrapper">
            <div class="prev">
                <a href="browser-tool.html" title="Browser developer tools"><b>‹&nbsp;</b>Browser developer tools</a>
            </div>
            
            <div class="next">
                <a href="composer/d8-migrate.html" title="Migrating a Drupal 8 site into a Composer-managed build">Migrating a Drupal 8 site into a Composer-managed build<b>&nbsp;›</b></a>
            </div>
            
        </div>
    </div>
</div>



    
<div class="assistance-wrapper">
	<div class="assistance-tbl">
		<div class="col">
			<p><img src="/_static/phone.png" alt="Contact support">Still need assistance? <strong><a href="https://docs.acquia.com/support">Contact Acquia Support</a></strong></p>
		</div>
	</div>
</div>
<div class="support">
	<div class="support-tbl">
		<div class="col left">
			<h2><a href="https://www.acquia.com/customer-success/acquia-global-support">Support</a></h2>
			<ul class="no-bullet">
				<li><a class="light-link" href="https://www.acquia.com/support">Contact Support</a></li>
			</ul>
		</div>
		<div class="col middle">
			<h2><a href="https://www.acquia.com/about-us">About Acquia</a></h2>
			<ul class="no-bullet">
				<li><a class="light-link" href="https://www.acquia.com/about-us">About Us</a></li>
				<li><a class="light-link" href="https://www.acquia.com/about-us/leadership">Leadership</a></li>
				<li><a class="light-link" href="https://www.acquia.com/about-us/board">Board of Directors</a></li>
				<li><a class="light-link" href="https://www.acquia.com/investors">Investors</a></li>
				<li><a class="light-link" href="https://www.acquia.com/about-us/newsroom">Newsroom</a></li>
				<li><a class="light-link" href="https://www.acquia.com/careers">Careers</a></li>
				<li><a class="light-link" href="https://www.acquia.com/about-us/contact">Contact Us</a></li>
			</ul>
			<ul class="social-media">
				<li>
					<a class="fa fa-twitter fa-lg ext" href="https://twitter.com/acquia" target="_blank" rel="nofollow">
						<span class="hide">Twitter</span>
					</a>
				</li>
				<li>
					<a class="fa fa-facebook fa-lg ext" href="https://www.facebook.com/acquia" target="_blank" rel="nofollow">
						<span class="hide">Facebook</span>
					</a>
				</li>
				<li>
					<a class="fa fa-github-alt fa-lg ext" href="https://github.com/acquia" target="_blank" rel="nofollow">
						<span class="hide">Github</span>
					</a>
				</li>
				<li>
					<a class="fa fa-linkedin-in fa-lg ext" href="http://www.linkedin.com/company/167056" target="_blank" rel="nofollow">
						<span class="hide">LinkedIn</span>
					</a>
				</li>
				<li>
					<a class="fa fa-google-plus-g fa-lg ext" href="https://plus.google.com/+acquia" target="_blank" rel="nofollow">
						<span class="hide">Google+</span>
					</a>
				</li>
				<li>
					<a class="fa fa-play fa-lg ext" href="https://www.youtube.com/user/AcquiaTV" target="_blank" rel="nofollow">
						<span class="hide">YouTube</span>
					</a>
				</li>
				<li>
					<a class="fa fa-envelope fa-lg" href="https://www.acquia.com/about-us/contact">
						<span class="hide">Contact Us</span>
					</a>
				</li>
			</ul>
		</div>
		<div class="col right">
			<div class="centered">
				<p>
					<img alt="Acquia: Think Ahead" src="/_static/acquia-logo-think-ahead-black-small.svg">
				</p>
				<p class="margin-left-half">
					<span>53 State Street, 10th Floor<br>
					Boston, MA 02109<br>
					United States<br>
					Phone: 888-922-7842</span><br>
					Map: <a class="decorate ext" href="http://maps.google.com/?q=42.358429+-71.056184+%2853+State+Street%2C+10th+Floor%2C+Boston%2C+MA%2C+02109%2C+us%29" target="_blank" rel="nofollow">Google Maps<span class="ext"><span class="element-invisible"> </span></span></a><br><a class="decorate" href="https://www.acquia.com/about-us/contact#block-views-locations-block-1">View other locations</a>
				</p>
			</div>
		</div>
	</div>
</div>
<div class="top-bar row column">
	<div class="footer" role="contentinfo">Copyright &copy 2018 Acquia Inc. All Rights Reserved. </br>Drupal is a registered trademark of <a href="https://dri.es/">Dries Buytaert</a>. All product names, logos, and brands are property of their respective owners.
    </div>
</div>
    </div>

    <script> $(document).foundation() </script>
    <script type="text/javascript">
      (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
      (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
      e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
      })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

      _st('install','2_Wi1aQvEeu61haxG8TX','2.0.0');
    </script>

  </body>
</html>