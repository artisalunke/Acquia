
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Content replacement modes &#8212; Acquia Help Center</title>
    <link rel="stylesheet" href="../../../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/custom.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/foundation-sphinx.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     '1.0.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../../../_static/what-input/what-input.min.js"></script>
    <script type="text/javascript" src="../../../_static/foundation-sites/foundation.min.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" /> 
  </head>
  <body>

    
<header>
<div class="topbar">
    <div class="col left">
        <a href="/" title="Acquia Help Center Home" class="logo">Acquia Help Center</a>
    </div>
    <div class="col right">
      <ul class="main-nav">
        <li>
          <a href="https://www.acquia.com" title="Go to www.acquia.com for our latest information.">Acquia.com</a>
        </li>
        <li>
            <a href="https://dev.acquia.com" title="Acquia's Developer Center: developers.acquia.com">Developers</a>
        </li>
        <li>
            <a href="https://training.acquia.com" title="Go to training.acquia.com to find out about courses and certifications.">Training</a>
        </li>
        <li>
            <a href="/site-search" data-drupal-link-system-path="site-search">Search</a>
        </li>
      </ul>
    </div>
</div>
<div class="bottombar">
    <div class="searchbar-wrapper">
        <form action="search.html" method="get" class="searchbar">
            <div class="search-title">Need help finding something? <strong>Start Here.</strong></div>
            <div class="search-box">
                <input type="search" name="q" maxlength="128" size="15" value="" class="st-default-search-input">
                <input type="hidden" name="check_keywords" value="yes">
                <input type="hidden" name="area" value="default">
            </div>
            <div class="search-btn">
                <input class="btn-search button" type="submit" id="edit-submit-acquia-search" value="Search Docs">
            </div>
        </form>
    </div>
	</div>
</header>



    
<div class="breadcrumbs-wrapper">
	<ul>
        
        <li><a href="../../../index.html">Home</a></li>
        
        <li class="current">Content replacement modes</li>
	</ul>
</div>


<div class="row">
    
        
  <div class="small-4 large-3 columns" id="sidebar" data-sticky-container>
      <div class="sticky" data-sticky data-margin-top="0"><ul>
<li class="toctree-l1"><a class="reference internal" href="../../../acquia-cloud.html">Acquia Cloud</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../edge.html">Acquia Cloud Edge</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../shield.html">Acquia Cloud Shield</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../site-factory.html">Acquia Cloud Site Factory</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../commerce.html">Acquia Commerce Manager</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../dam.html">Acquia DAM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../dev-desktop.html">Acquia Dev Desktop</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../journey.html">Acquia Journey</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../lift.html">Acquia Lift</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../api.html">Acquia Platform APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../acquia-search.html">Acquia Search</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../devtools.html">Developer tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../lightning.html">Lightning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../support.html">Acquia Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ra.html">Remote Administration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../resource.html">Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../tutorials.html">Acquia Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../guide.html">Products and Services Guide</a></li>
</ul>

      </div>
  </div>
    
    <div id="content" class="small-8 large-9 columns">
        
            
  <div class="section" id="content-replacement-modes">
<h1>Content replacement modes<a class="headerlink" href="#content-replacement-modes" title="Permalink to this headline">¶</a></h1>
<p>When you want Acquia Lift to directly inject and display
personalized content on your website, you can set a
<a class="reference external" href="/lift/glossary#slot">slot’s</a> mode to <em>trusted</em> or <em>untrusted</em>. If
your website requires content to be injected and displayed in your own
customization (such as in a decoupled Drupal installation), you can set
the slot’s mode to <em>customized</em>.</p>
<ul class="simple">
<li><em>Trusted mode</em> - If you control all imported content and are sure
that any styles or JavaScript your content contains are safe for your
website.
When content is displayed in <em>trusted mode</em>, your website will render
that content inline, as if it were native to your local website.</li>
<li><em>Untrusted mode</em> - If you do not control the imported content, or you
want to protect your website from potentially unsafe JavaScript or
unsuitable CSS styling that the content may contain.
When content is displayed in <em>untrusted mode</em>, the imported content
will use the style of the original publishing website by wrapping the
content in an <code class="docutils literal"><span class="pre">&lt;iframe&gt;</span></code>.</li>
<li><em>Customized mode</em> - If you want to further customize the display or
content of the content with your own local JavaScript code while
still utilizing Acquia Lift decisions and content, such as
in a single-page application or decouple Drupal installation.
When content is displayed in <em>customized mode</em>, the decisions and
their content are requested on-demand and broadcast using JavaScript
events, causing your scripts will receive and react to them
accordingly.</li>
</ul>
<div class="section" id="changing-content-replacement-mode">
<h2>Changing content replacement mode<a class="headerlink" href="#changing-content-replacement-mode" title="Permalink to this headline">¶</a></h2>
<p>To alter the content replacement mode used on your website, perform the
following steps to modify your Acquia Lift configuration
settings:</p>
<ol class="arabic simple">
<li>Sign in to your website as an administrator.</li>
<li>Click <strong>Configure &gt; Acquia Lift Settings</strong>.</li>
<li>Scroll down the webpage, and then click <strong>Advanced configuration</strong> to
expand it.</li>
<li>In the <strong>Content replacement mode</strong> section, select one of the
following values:<ul>
<li><strong>Trusted</strong></li>
<li><strong>Untrusted</strong> (default)</li>
<li><strong>Customized</strong></li>
</ul>
</li>
<li>Click <strong>Save configuration</strong>.</li>
</ol>
</div>
<div class="section" id="overriding-slot-modes">
<h2>Overriding slot modes<a class="headerlink" href="#overriding-slot-modes" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="/lift/exp-builder/slots">One or more slots</a> can have a different
setting than the website default. If you have a given slot that will
always hold untrusted content on an otherwise trusted website, or vice
versa, you can override the slot to have a non-default setting.</p>
<p>Within the <a class="reference external" href="/lift/exp-builder/slots#slots">embed code</a> that you add
to your page, add the following line to set a particular slot to always
be trusted:</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>&lt;div data-lift-slot=&quot;my-overridden-slot&quot; data-lift-mode=&quot;[MODE]&quot; /&gt;
</pre></div>
</div>
<p>where <code class="docutils literal"><span class="pre">[MODE]</span></code> is <code class="docutils literal"><span class="pre">trusted</span></code>, <code class="docutils literal"><span class="pre">untrusted</span></code>, or <code class="docutils literal"><span class="pre">customized</span></code>.</p>
</div>
<div class="section" id="styling-untrusted-content">
<h2>Styling untrusted content<a class="headerlink" href="#styling-untrusted-content" title="Permalink to this headline">¶</a></h2>
<p>Trusted content automatically uses the style of your website by applying
appropriate CSS and targeting. When you are using imported content that
is not trusted, it does not use that CSS and its styling may not fit
with the style of your website. You can apply an attribute to the slot,
which applies a stylesheet:</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>&lt;div data-lift-slot=&quot;my-slot-id&quot; data-lift-css=&quot;http://mysite.com/custom_slot.css&quot;&gt;&lt;/div&gt;
</pre></div>
</div>
</div>
<div class="section" id="styles-and-scripts-in-trusted-mode">
<h2>Styles and scripts in trusted mode<a class="headerlink" href="#styles-and-scripts-in-trusted-mode" title="Permalink to this headline">¶</a></h2>
<p>When rendering content in trusted mode, it is important to understand
when styles should or should not be imported with the content as
rendered by the view mode. In some cases, rendering the content in an
untrusted iframe will require additional styling and scripting that not
should be included in directly injected trusted content (or should be
the responsibility of the Acquia Lift website displaying the
content).</p>
<p>In trusted content mode, Acquia Lift renders <em>markup only</em> in
<code class="docutils literal"><span class="pre">&lt;body&gt;</span></code> tags, which removes all styles and scripts included in the
<code class="docutils literal"><span class="pre">&lt;head&gt;</span></code> tags that includes <code class="docutils literal"><span class="pre">data-content-barrier-exclude=&quot;true&quot;</span></code> in
its attributes. This attribute is applied by Content Hub rendering
templates for all footer JavaScript code. Content injected in untrusted mode
will be injected as-is, with all markup included.</p>
<p>The intention with trusted mode is that the website receiving the
injected content should control the styling and scripting of content,
whether injected or rendered natively on the page. There are situations
when the content for replacement is architected in a more
component-based approach, and styles or scripts should be packaged with
the content for use in either trusted on untrusted mode. In these cases,
any styles and scripts necessary should be rendered in the <code class="docutils literal"><span class="pre">&lt;body&gt;</span></code>
of the rendered view mode content in Content Hub.</p>
<div class="section" id="example">
<h3>Example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h3>
<p>For example, in untrusted mode, this markup is rendered:</p>
<div class="code html highlight-default"><div class="highlight"><pre><span></span>&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
   &lt;style&gt;
   .my-custom-style { color: #000000; }
   &lt;/style&gt;
   &lt;link rel=&quot;stylesheet&quot; href=&quot;http://mysite.com/stylesheet.css&quot; /&gt;
   &lt;script type=&quot;text/javascript&quot; src=&quot;http://mysite.com/myexternaljs.js&quot;&gt;&lt;/script&gt;
   &lt;script&gt;
   var foo = &#39;bar&#39;;
   &lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
   &lt;style&gt;
   .perfect { color: #39ff14; }
   &lt;/style&gt;
   &lt;script&gt;
   var perfect = &#39;check out that style&#39;;
   &lt;/script&gt;
   &lt;p class=&quot;perfect&quot;&gt;My perfect content
      &lt;span data-content-barrier-exclude=&quot;true&quot;&gt;Don&#39;t show this in trusted mode&lt;/span&gt;
   &lt;/p&gt;
   &lt;div data-content-barrier-exclude=&quot;true&quot;&gt;
   &lt;script type=&quot;text/javascript&quot; src=&quot;http://mysite.com/myfooterjs.js&quot;&gt;&lt;/script&gt;
   &lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;
</pre></div>
</div>
<p>However, if the content is <em>trusted</em>, only this section will be
rendered:</p>
<div class="code html highlight-default"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">style</span><span class="o">&gt;</span>
<span class="o">.</span><span class="n">perfect</span> <span class="p">{</span> <span class="n">color</span><span class="p">:</span> <span class="c1">#39ff14; }</span>
<span class="o">&lt;/</span><span class="n">style</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">script</span><span class="o">&gt;</span>
<span class="n">var</span> <span class="n">perfect</span> <span class="o">=</span> <span class="s1">&#39;check out that style&#39;</span><span class="p">;</span>
<span class="o">&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">p</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;perfect&quot;</span><span class="o">&gt;</span><span class="n">My</span> <span class="n">perfect</span> <span class="n">content</span>
<span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="working-with-customized-content">
<h2>Working with customized content<a class="headerlink" href="#working-with-customized-content" title="Permalink to this headline">¶</a></h2>
<p>After setting a slot to <code class="docutils literal"><span class="pre">customized</span></code> mode, its content is now
broadcast to the webpage instead of being injected into the webpage. To
work with the content being broadcasted (but not displayed), you must
implement the following in your website’s code:</p>
<ol class="arabic simple">
<li>Define a page-level JavaScript event listener on the
<code class="docutils literal"><span class="pre">acquiaLiftContentCustomizable</span></code> event to process the data, and
customize your website. For details about how to implement this
function, see <a class="reference external" href="/lift/javascript/events">JavaScript API events</a>.</li>
<li>Call the public API function <code class="docutils literal"><span class="pre">AcquiaLiftPublicApi.customize()</span></code>. For
details about how to call <code class="docutils literal"><span class="pre">customize()</span></code>, see
<a class="reference external" href="/lift/javascript/personalize">Personalize methods</a>.</li>
</ol>
<p>With the slot included on a webpage, it will be monitored and tracked by
Acquia Lift, even if the content is not injected.</p>
</div>
</div>


        
    </div>
</div>

    
<div class="row">
    <div class="small-4 large-3 columns"></div>
    <div id="relinks" class="small-8 large-9 columns">
        <div class="pagination-wrapper">
            <div class="prev">
                <a href="../../../genindex.html" title="General Index"><b>‹&nbsp;</b>General Index</a>
            </div>
            
        </div>
    </div>
</div>



    
<div class="assistance-wrapper">
	<div class="assistance-tbl">
		<div class="col">
			<p><img src="/_static/phone.png" alt="Contact support">Still need assistance? <strong><a href="https://docs.acquia.com/support">Contact Acquia Support</a></strong></p>
		</div>
	</div>
</div>
<div class="support">
	<div class="support-tbl">
		<div class="col left">
			<h2><a href="https://www.acquia.com/customer-success/acquia-global-support">Support</a></h2>
			<ul class="no-bullet">
				<li><a class="light-link" href="https://www.acquia.com/support">Contact Support</a></li>
			</ul>
		</div>
		<div class="col middle">
			<h2><a href="https://www.acquia.com/about-us">About Acquia</a></h2>
			<ul class="no-bullet">
				<li><a class="light-link" href="https://www.acquia.com/about-us">About Us</a></li>
				<li><a class="light-link" href="https://www.acquia.com/about-us/leadership">Leadership</a></li>
				<li><a class="light-link" href="https://www.acquia.com/about-us/board">Board of Directors</a></li>
				<li><a class="light-link" href="https://www.acquia.com/investors">Investors</a></li>
				<li><a class="light-link" href="https://www.acquia.com/about-us/newsroom">Newsroom</a></li>
				<li><a class="light-link" href="https://www.acquia.com/careers">Careers</a></li>
				<li><a class="light-link" href="https://www.acquia.com/about-us/contact">Contact Us</a></li>
			</ul>
			<ul class="social-media">
				<li>
					<a class="fa fa-twitter fa-lg ext" href="https://twitter.com/acquia" target="_blank" rel="nofollow">
						<span class="hide">Twitter</span>
					</a>
				</li>
				<li>
					<a class="fa fa-facebook fa-lg ext" href="https://www.facebook.com/acquia" target="_blank" rel="nofollow">
						<span class="hide">Facebook</span>
					</a>
				</li>
				<li>
					<a class="fa fa-github-alt fa-lg ext" href="https://github.com/acquia" target="_blank" rel="nofollow">
						<span class="hide">Github</span>
					</a>
				</li>
				<li>
					<a class="fa fa-linkedin-in fa-lg ext" href="http://www.linkedin.com/company/167056" target="_blank" rel="nofollow">
						<span class="hide">LinkedIn</span>
					</a>
				</li>
				<li>
					<a class="fa fa-google-plus-g fa-lg ext" href="https://plus.google.com/+acquia" target="_blank" rel="nofollow">
						<span class="hide">Google+</span>
					</a>
				</li>
				<li>
					<a class="fa fa-play fa-lg ext" href="https://www.youtube.com/user/AcquiaTV" target="_blank" rel="nofollow">
						<span class="hide">YouTube</span>
					</a>
				</li>
				<li>
					<a class="fa fa-envelope fa-lg" href="https://www.acquia.com/about-us/contact">
						<span class="hide">Contact Us</span>
					</a>
				</li>
			</ul>
		</div>
		<div class="col right">
			<div class="centered">
				<p>
					<img alt="Acquia: Think Ahead" src="/_static/acquia-logo-think-ahead-black-small.svg">
				</p>
				<p class="margin-left-half">
					<span>53 State Street, 10th Floor<br>
					Boston, MA 02109<br>
					United States<br>
					Phone: 888-922-7842</span><br>
					Map: <a class="decorate ext" href="http://maps.google.com/?q=42.358429+-71.056184+%2853+State+Street%2C+10th+Floor%2C+Boston%2C+MA%2C+02109%2C+us%29" target="_blank" rel="nofollow">Google Maps<span class="ext"><span class="element-invisible"> </span></span></a><br><a class="decorate" href="https://www.acquia.com/about-us/contact#block-views-locations-block-1">View other locations</a>
				</p>
			</div>
		</div>
	</div>
</div>
<div class="top-bar row column">
	<div class="footer" role="contentinfo">Copyright &copy 2018 Acquia Inc. All Rights Reserved. </br>Drupal is a registered trademark of <a href="https://dri.es/">Dries Buytaert</a>. All product names, logos, and brands are property of their respective owners.
    </div>
</div>
    </div>

    <script> $(document).foundation() </script>
    <script type="text/javascript">
      (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
      (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
      e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
      })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

      _st('install','2_Wi1aQvEeu61haxG8TX','2.0.0');
    </script>

  </body>
</html>