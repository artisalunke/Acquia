
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Content Hub and CDF &#8212; Acquia Help Center</title>
    <link rel="stylesheet" href="../../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/foundation-sphinx.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '1.0.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../../_static/what-input/what-input.min.js"></script>
    <script type="text/javascript" src="../../_static/foundation-sites/foundation.min.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Using Devel with Content Hub" href="devel.html" />
    <link rel="prev" title="Best practices for developing with Content Hub" href="best-practices.html" /> 
  </head>
  <body>

    
<header>
<div class="topbar">
    <div class="col left">
        <a href="/" title="Acquia Help Center Home" class="logo">Acquia Help Center</a>
    </div>
    <div class="col right">
      <ul class="main-nav">
        <li>
          <a href="https://www.acquia.com" title="Go to www.acquia.com for our latest information.">Acquia.com</a>
        </li>
        <li>
            <a href="https://dev.acquia.com" title="Acquia's Developer Center: developers.acquia.com">Developers</a>
        </li>
        <li>
            <a href="https://training.acquia.com" title="Go to training.acquia.com to find out about courses and certifications.">Training</a>
        </li>
        <li>
            <a href="/site-search" data-drupal-link-system-path="site-search">Search</a>
        </li>
      </ul>
    </div>
</div>
<div class="bottombar">
    <div class="searchbar-wrapper">
        <form action="search.html" method="get" class="searchbar">
            <div class="search-title">Need help finding something? <strong>Start Here.</strong></div>
            <div class="search-box">
                <input type="search" name="q" maxlength="128" size="15" value="" class="st-default-search-input">
                <input type="hidden" name="check_keywords" value="yes">
                <input type="hidden" name="area" value="default">
            </div>
            <div class="search-btn">
                <input class="btn-search button" type="submit" id="edit-submit-acquia-search" value="Search Docs">
            </div>
        </form>
    </div>
	</div>
</header>



    
<div class="breadcrumbs-wrapper">
	<ul>
        
        <li><a href="../../index.html">Home</a></li>
        
        <li><a href="../../lift.html" >Acquia Lift</a></li>
        <li><a href="../contenthub.html" accesskey="U">Content Hub</a></li>
        <li class="current">Content Hub and CDF</li>
	</ul>
</div>


<div class="row">
    
        
  <div class="small-4 large-3 columns" id="sidebar" data-sticky-container>
      <div class="sticky" data-sticky data-margin-top="0"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../acquia-cloud.html">Acquia Cloud</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../edge.html">Acquia Cloud Edge</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../shield.html">Acquia Cloud Shield</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../site-factory.html">Acquia Cloud Site Factory</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../commerce.html">Acquia Commerce Manager</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dam.html">Acquia DAM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dev-desktop.html">Acquia Dev Desktop</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../journey.html">Acquia Journey</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../lift.html">Acquia Lift</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../release-notes.html">Acquia Lift Component Release Notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../known-issues.html">Known Issues in Acquia Lift</a></li>
<li class="toctree-l2"><a class="reference internal" href="../exp-builder.html">Experience Builder</a></li>
<li class="toctree-l2"><a class="reference internal" href="../profile-mgr.html">Profile Manager</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../contenthub.html">Content Hub</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="service-rns.html">Release notes - Content Hub service</a></li>
<li class="toctree-l3"><a class="reference internal" href="client-rns.html">Release notes - Content Hub client</a></li>
<li class="toctree-l3"><a class="reference internal" href="install.html">Installing Content Hub</a></li>
<li class="toctree-l3"><a class="reference internal" href="sharing.html">Sharing content</a></li>
<li class="toctree-l3"><a class="reference internal" href="discover.html">Discovering content</a></li>
<li class="toctree-l3"><a class="reference internal" href="modules.html">Modules to use with Content Hub</a></li>
<li class="toctree-l3"><a class="reference internal" href="api.html">Using the Content Hub API</a></li>
<li class="toctree-l3"><a class="reference internal" href="troubleshooting.html">Content Hub troubleshooting guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="best-practices.html">Best practices for developing with Content Hub</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Content Hub and CDF</a></li>
<li class="toctree-l3"><a class="reference internal" href="devel.html">Using Devel with Content Hub</a></li>
<li class="toctree-l3"><a class="reference internal" href="drush.html">Using Drush with Content Hub for Drupal 7</a></li>
<li class="toctree-l3"><a class="reference internal" href="drush-d8.html">Using Drush with Content Hub for Drupal 8</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../arch.html">Acquia Lift architecture</a></li>
<li class="toctree-l2"><a class="reference internal" href="../glossary.html">Acquia Lift glossary</a></li>
<li class="toctree-l2"><a class="reference internal" href="../omni.html">Data warehouse</a></li>
<li class="toctree-l2"><a class="reference internal" href="../connectors.html">Using connectors with Acquia Lift</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api.html">Using the Acquia Lift APIs</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../api.html">Acquia Platform APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../acquia-search.html">Acquia Search</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../devtools.html">Developer tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../lightning.html">Lightning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../support.html">Acquia Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ra.html">Remote Administration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../resource.html">Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials.html">Acquia Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../guide.html">Products and Services Guide</a></li>
</ul>

      </div>
  </div>
    
    <div id="content" class="small-8 large-9 columns">
        
            
  <div class="section" id="acquia-product-ch-and-cdf">
<h1>Content Hub and CDF<a class="headerlink" href="#acquia-product-ch-and-cdf" title="Permalink to this headline">¶</a></h1>
<p>Content Hub uses the Common Data Format (CDF) for communication
data between the Content Hub storage service and the end-user
client layer comprising all the applications connected to the hub.
Content Hub uses the JSON format to serialize CDF. Every piece
of data is typed to ease its indexing for search.</p>
<div class="section" id="recommendations">
<h2>Recommendations<a class="headerlink" href="#recommendations" title="Permalink to this headline">¶</a></h2>
<p>We recommend that the following items be consistent between non-Drupal
websites and Content Hub:</p>
<ul class="simple">
<li>When building a connector to publish to Content Hub, we
recommend that you rename the other system’s attributes to match what
Drupal expects. This is more important for attributes that are built
into Drupal, such as <code class="docutils literal"><span class="pre">Title</span></code>. Doing this helps ensure consistent
naming across all systems, which is important for token usage.</li>
<li>Dates should be expressed in the <a class="reference external" href="https://en.wikipedia.org/wiki/ISO_8601">ISO 8601</a> format — for
example, <code class="docutils literal"><span class="pre">2016-02-09T23:04:20-05:00</span></code>. In PHP, use <code class="docutils literal"><span class="pre">date('c')</span></code>
instead of <code class="docutils literal"><span class="pre">date('Y-m-d</span> <span class="pre">H:i:s’)</span></code>. Using <code class="docutils literal"><span class="pre">date('Y-m-d</span> <span class="pre">H:i:s’)</span></code>
returns <code class="docutils literal"><span class="pre">2016-02-09</span> <span class="pre">23:04:20</span></code>, which is incorrect.</li>
</ul>
</div>
<div class="section" id="entity-structure">
<h2>Entity structure<a class="headerlink" href="#entity-structure" title="Permalink to this headline">¶</a></h2>
<p>The most important piece of the common data structure is the array of
entities it contains. Each entry is an unrestricted entity, allowing the
transmission of heterogenous collections in a single file.</p>
<p>The following is an example of the <code class="docutils literal"><span class="pre">entities</span></code> object:</p>
<div class="code highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="s2">&quot;entities&quot;</span><span class="p">:</span> <span class="p">[</span>
      <span class="p">{</span>
            <span class="s2">&quot;uuid&quot;</span><span class="p">:</span> <span class="s2">&quot;00000000-0000-0000-0000-000000000000&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;product&quot;</span><span class="p">,</span>
            <span class="s2">&quot;created&quot;</span><span class="p">:</span> <span class="s2">&quot;2013-04-15T18:56:54-04:00&quot;</span><span class="p">,</span>
            <span class="s2">&quot;modified&quot;</span><span class="p">:</span> <span class="s2">&quot;2014-02-24T16:13:47-05:00</span>
            <span class="s2">&quot;origin&quot;</span><span class="p">:</span> <span class="s2">&quot;16074522-f318-4a69-52f5-bb6d740e5a41&quot;</span><span class="p">,</span>
            <span class="s2">&quot;attributes&quot;</span><span class="p">:</span> <span class="p">{</span>
               <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="p">{</span>
                  <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
                  <span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s2">&quot;en&quot;</span><span class="p">:</span> <span class="s2">&quot;A&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;hu&quot;</span><span class="p">:</span> <span class="s2">&quot;B&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;und&quot;</span><span class="p">:</span> <span class="s2">&quot;C&quot;</span>
                  <span class="p">}</span>
               <span class="p">},</span>
            <span class="p">},</span>
            <span class="s2">&quot;assets&quot;</span><span class="p">:</span> <span class="p">[</span>
               <span class="p">{</span>
                  <span class="s2">&quot;url&quot;</span><span class="p">:</span> <span class="s2">&quot;http://mysite.com/sites/default/files/foo.png&quot;</span><span class="p">,</span>
                  <span class="s2">&quot;replace-token&quot;</span><span class="p">:</span> <span class="s2">&quot;[acquia-logo]&quot;</span>
               <span class="p">},</span>
               <span class="p">{</span>
                  <span class="s2">&quot;url&quot;</span><span class="p">:</span> <span class="s2">&quot;http://mysite.com/sites/default/files/bar.png&quot;</span><span class="p">,</span>
                  <span class="s2">&quot;replace-token&quot;</span><span class="p">:</span> <span class="s2">&quot;[acquia-thumb]&quot;</span>
               <span class="p">}</span>
            <span class="p">]</span>
      <span class="p">}</span>
   <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The elements of an entity are defined as the following:</p>
<ul class="simple">
<li><em>uuid</em> - Each entity is identified by a required UUID. Each client
application should map its internal storage to such UUID in order to
allow data synchronization over time.</li>
<li><em>type</em> - An arbitrary string which may be used by the client side to
determine the type of entity and trigger appropriate behavior.
Examples include articles and products.</li>
<li><em>created</em> - The created date in <a class="reference external" href="https://en.wikipedia.org/wiki/ISO_8601">ISO 8601</a> standard format.</li>
<li><em>modified</em> - The modified date in <a class="reference external" href="https://en.wikipedia.org/wiki/ISO_8601">ISO 8601</a> standard format.</li>
<li><em>origin</em> - The UUID of the client application that originally created
this entity and owns it. This can be useful on the client side to
know if a client is allowed to perform actions such as editing an
entity.</li>
<li><a class="reference external" href="#attributes"><em>attributes</em></a> - Localizable collections of values
keyed by the attribute name. Each attribute is typed so that it can
be stored in Content Hub and indexed properly for search
purposes.</li>
<li><em>assets</em> - A list of resources that are referenced in the attributes
of the entity in the form of tokens. <code class="docutils literal"><span class="pre">url</span></code> points to the <code class="docutils literal"><span class="pre">Asset</span></code>.
Token strings will be replaced in every attribute that has an
occurrence in their value.</li>
</ul>
<div class="section" id="attributes">
<h3>Attributes<a class="headerlink" href="#attributes" title="Permalink to this headline">¶</a></h3>
<p>Attributes can be single pieces of information, or can be passed as
nested attributes. Nested attributes follow the <a class="reference external" href="ttps://www.elastic.co/guide/en/elasticsearch/reference/1.7/mapping-core-types.html">Elasticsearch methodology for mapping</a>.</p>
<ul class="simple">
<li><em>type</em> - Any primitive data type, such as <code class="docutils literal"><span class="pre">integer</span></code>, <code class="docutils literal"><span class="pre">string</span></code>,
<code class="docutils literal"><span class="pre">keyword</span></code>, <code class="docutils literal"><span class="pre">boolean</span></code>, <code class="docutils literal"><span class="pre">number</span></code>, or <code class="docutils literal"><span class="pre">reference</span></code>. If the value
is an array, the type should be wrapped accordingly (for example:
<code class="docutils literal"><span class="pre">array</span></code>).</li>
<li><em>value</em> - An associative array, always keyed by language. Unlocalized
data must contain the <code class="docutils literal"><span class="pre">und</span></code> key, which is the standard for
undefined language data.</li>
</ul>
</div>
</div>
<div class="section" id="accessing-an-entity-s-cdf">
<h2>Accessing an entity’s CDF<a class="headerlink" href="#accessing-an-entity-s-cdf" title="Permalink to this headline">¶</a></h2>
<p>Content Hub uses custom paths to both access an entity’s CDF and
prevent conflicts with the default system path.</p>
<p>To access an entity’s CDF, in your browser’s address bar enter a URL
similar to the following, where:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">[site]</span></code> is your website’s domain name</li>
<li><code class="docutils literal"><span class="pre">[entity</span> <span class="pre">type]</span></code> is the entity type</li>
<li><code class="docutils literal"><span class="pre">[entity</span> <span class="pre">id]</span></code> is the entity’s ID number</li>
</ul>
<div class="highlight-none"><div class="highlight"><pre><span></span>[site]/acquia-contenthub-cdf/[entity type]/[entity id]?_format=acquia_contenthub_cdf
</pre></div>
</div>
<p>For example, the following URL example would allow you access to a
paragraph entity’s CDF:</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>[site]/acquia-contenthub-cdf/paragraph/1?_format=acquia_contenthub_cdf
</pre></div>
</div>
<div class="section" id="modifying-entities-and-the-cdf-with-hooks">
<h3>Modifying entities and the CDF with hooks<a class="headerlink" href="#modifying-entities-and-the-cdf-with-hooks" title="Permalink to this headline">¶</a></h3>
<p>Content Hub provides hooks for modifying your website’s entities
and CDF, allowing you to improve syndication, and modifying view modes
in your website’s CDF to support custom rendering processes:</p>
<ul class="simple">
<li>Allow modules to modify the Drupal entity after conversion from CDF<ul>
<li><em>Drupal 8</em> - <code class="docutils literal"><span class="pre">hook_acquia_contenthub_drupal_from_cdf_alter</span></code></li>
<li><em>Drupal 7</em> - <code class="docutils literal"><span class="pre">hook_content_hub_connector_drupal_from_cdf_alter</span></code></li>
</ul>
</li>
<li>Allow modules to modify the CDF before it is sent to
Content Hub<ul>
<li><em>Drupal 8</em> - <code class="docutils literal"><span class="pre">hook_acquia_contenthub_cdf_from_drupal_alter</span></code></li>
<li><em>Drupal 7</em> - <code class="docutils literal"><span class="pre">hook_content_hub_connector_cdf_from_drupal_alter</span></code></li>
</ul>
</li>
<li>Allow modules to modify the CDF before converting to Drupal entity<ul>
<li><em>Drupal 8</em> - <code class="docutils literal"><span class="pre">acquia_contenthub_cdf_from_hub_alter</span></code></li>
<li><em>Drupal 7</em> - <code class="docutils literal"><span class="pre">hook_content_hub_connector_cdf_from_hub_alter</span></code></li>
</ul>
</li>
<li>Allow modules to modify the Drupal entity before its normalization to
CDF<ul>
<li><em>Drupal 8</em> - <code class="docutils literal"><span class="pre">acquia_contenthub_drupal_to_cdf_alter</span></code></li>
<li><em>Drupal 7</em> - <code class="docutils literal"><span class="pre">hook_content_hub_connector_drupal_to_cdf_alter</span></code></li>
</ul>
</li>
</ul>
</div>
</div>
</div>


        
    </div>
</div>

    
<div class="row">
    <div class="small-4 large-3 columns"></div>
    <div id="relinks" class="small-8 large-9 columns">
        <div class="pagination-wrapper">
            <div class="prev">
                <a href="best-practices.html" title="Best practices for developing with Content Hub"><b>‹&nbsp;</b>Best practices for developing with Content Hub</a>
            </div>
            
            <div class="next">
                <a href="devel.html" title="Using Devel with Content Hub">Using Devel with Content Hub<b>&nbsp;›</b></a>
            </div>
            
        </div>
    </div>
</div>



    
<div class="assistance-wrapper">
	<div class="assistance-tbl">
		<div class="col">
			<p><img src="/_static/phone.png" alt="Contact support">Still need assistance? <strong><a href="https://docs.acquia.com/support">Contact Acquia Support</a></strong></p>
		</div>
	</div>
</div>
<div class="support">
	<div class="support-tbl">
		<div class="col left">
			<h2><a href="https://www.acquia.com/customer-success/acquia-global-support">Support</a></h2>
			<ul class="no-bullet">
				<li><a class="light-link" href="https://www.acquia.com/support">Contact Support</a></li>
			</ul>
		</div>
		<div class="col middle">
			<h2><a href="https://www.acquia.com/about-us">About Acquia</a></h2>
			<ul class="no-bullet">
				<li><a class="light-link" href="https://www.acquia.com/about-us">About Us</a></li>
				<li><a class="light-link" href="https://www.acquia.com/about-us/leadership">Leadership</a></li>
				<li><a class="light-link" href="https://www.acquia.com/about-us/board">Board of Directors</a></li>
				<li><a class="light-link" href="https://www.acquia.com/investors">Investors</a></li>
				<li><a class="light-link" href="https://www.acquia.com/about-us/newsroom">Newsroom</a></li>
				<li><a class="light-link" href="https://www.acquia.com/careers">Careers</a></li>
				<li><a class="light-link" href="https://www.acquia.com/about-us/contact">Contact Us</a></li>
			</ul>
			<ul class="social-media">
				<li>
					<a class="fa fa-twitter fa-lg ext" href="https://twitter.com/acquia" target="_blank" rel="nofollow">
						<span class="hide">Twitter</span>
					</a>
				</li>
				<li>
					<a class="fa fa-facebook fa-lg ext" href="https://www.facebook.com/acquia" target="_blank" rel="nofollow">
						<span class="hide">Facebook</span>
					</a>
				</li>
				<li>
					<a class="fa fa-github-alt fa-lg ext" href="https://github.com/acquia" target="_blank" rel="nofollow">
						<span class="hide">Github</span>
					</a>
				</li>
				<li>
					<a class="fa fa-linkedin-in fa-lg ext" href="http://www.linkedin.com/company/167056" target="_blank" rel="nofollow">
						<span class="hide">LinkedIn</span>
					</a>
				</li>
				<li>
					<a class="fa fa-google-plus-g fa-lg ext" href="https://plus.google.com/+acquia" target="_blank" rel="nofollow">
						<span class="hide">Google+</span>
					</a>
				</li>
				<li>
					<a class="fa fa-play fa-lg ext" href="https://www.youtube.com/user/AcquiaTV" target="_blank" rel="nofollow">
						<span class="hide">YouTube</span>
					</a>
				</li>
				<li>
					<a class="fa fa-envelope fa-lg" href="https://www.acquia.com/about-us/contact">
						<span class="hide">Contact Us</span>
					</a>
				</li>
			</ul>
		</div>
		<div class="col right">
			<div class="centered">
				<p>
					<img alt="Acquia: Think Ahead" src="/_static/acquia-logo-think-ahead-black-small.svg">
				</p>
				<p class="margin-left-half">
					<span>53 State Street, 10th Floor<br>
					Boston, MA 02109<br>
					United States<br>
					Phone: 888-922-7842</span><br>
					Map: <a class="decorate ext" href="http://maps.google.com/?q=42.358429+-71.056184+%2853+State+Street%2C+10th+Floor%2C+Boston%2C+MA%2C+02109%2C+us%29" target="_blank" rel="nofollow">Google Maps<span class="ext"><span class="element-invisible"> </span></span></a><br><a class="decorate" href="https://www.acquia.com/about-us/contact#block-views-locations-block-1">View other locations</a>
				</p>
			</div>
		</div>
	</div>
</div>
<div class="top-bar row column">
	<div class="footer" role="contentinfo">Copyright &copy 2018 Acquia Inc. All Rights Reserved. </br>Drupal is a registered trademark of <a href="https://dri.es/">Dries Buytaert</a>. All product names, logos, and brands are property of their respective owners.
    </div>
</div>
    </div>

    <script> $(document).foundation() </script>
    <script type="text/javascript">
      (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
      (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
      e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
      })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

      _st('install','2_Wi1aQvEeu61haxG8TX','2.0.0');
    </script>

  </body>
</html>