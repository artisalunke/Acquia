
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Indexing attachments &#8212; Acquia Help Center</title>
    <link rel="stylesheet" href="../../../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/custom.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/foundation-sphinx.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     '1.0.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../../../_static/what-input/what-input.min.js"></script>
    <script type="text/javascript" src="../../../_static/foundation-sites/foundation.min.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Search index reports" href="index-reports.html" />
    <link rel="prev" title="Indexing your website" href="../indexing.html" /> 
  </head>
  <body>

    
<header>
<div class="topbar">
    <div class="col left">
        <a href="/" title="Acquia Help Center Home" class="logo">Acquia Help Center</a>
    </div>
    <div class="col right">
      <ul class="main-nav">
        <li>
          <a href="https://www.acquia.com" title="Go to www.acquia.com for our latest information.">Acquia.com</a>
        </li>
        <li>
            <a href="https://dev.acquia.com" title="Acquia's Developer Center: developers.acquia.com">Developers</a>
        </li>
        <li>
            <a href="https://training.acquia.com" title="Go to training.acquia.com to find out about courses and certifications.">Training</a>
        </li>
        <li>
            <a href="/site-search" data-drupal-link-system-path="site-search">Search</a>
        </li>
      </ul>
    </div>
</div>
<div class="bottombar">
    <div class="searchbar-wrapper">
        <form action="search.html" method="get" class="searchbar">
            <div class="search-title">Need help finding something? <strong>Start Here.</strong></div>
            <div class="search-box">
                <input type="search" name="q" maxlength="128" size="15" value="" class="st-default-search-input">
                <input type="hidden" name="check_keywords" value="yes">
                <input type="hidden" name="area" value="default">
            </div>
            <div class="search-btn">
                <input class="btn-search button" type="submit" id="edit-submit-acquia-search" value="Search Docs">
            </div>
        </form>
    </div>
	</div>
</header>



    
<div class="breadcrumbs-wrapper">
	<ul>
        
        <li><a href="../../../index.html">Home</a></li>
        
        <li><a href="../../../acquia-search.html" >Acquia Search</a></li>
        <li><a href="../../activate.html" >Getting started with Acquia Search</a></li>
        <li><a href="../indexing.html" accesskey="U">Indexing your website</a></li>
        <li class="current">Indexing attachments</li>
	</ul>
</div>


<div class="row">
    
        
  <div class="small-4 large-3 columns" id="sidebar" data-sticky-container>
      <div class="sticky" data-sticky data-margin-top="0"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../acquia-cloud.html">Acquia Cloud</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../edge.html">Acquia Cloud Edge</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../shield.html">Acquia Cloud Shield</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../site-factory.html">Acquia Cloud Site Factory</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../commerce.html">Acquia Commerce Manager</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../dam.html">Acquia DAM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../dev-desktop.html">Acquia Dev Desktop</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../journey.html">Acquia Journey</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../lift.html">Acquia Lift</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../api.html">Acquia Platform APIs</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../acquia-search.html">Acquia Search</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../modules.html">Modules for Acquia Search</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../activate.html">Getting started with Acquia Search</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../view-usage.html">Viewing search usage and statistics</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../indexing.html">Indexing your website</a><ul class="current">
<li class="toctree-l4 current"><a class="current reference internal" href="#">Indexing attachments</a></li>
<li class="toctree-l4"><a class="reference internal" href="index-reports.html">Search index reports</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../config.html">Custom Solr configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../language.html">Selecting a language</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../search-pages.html">Creating search pages</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../relevant-results.html">Obtaining relevant search results</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../multiple-cores.html">Using multiple search cores</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../multidomain.html">Searching across Drupal multisites</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../faq.html">Acquia Search FAQ</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../debugging.html">Debugging Acquia Search</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../known-issues.html">Known issues in Acquia Search</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../devtools.html">Developer tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../lightning.html">Lightning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../support.html">Acquia Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ra.html">Remote Administration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../resource.html">Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../tutorials.html">Acquia Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../guide.html">Products and Services Guide</a></li>
</ul>

      </div>
  </div>
    
    <div id="content" class="small-8 large-9 columns">
        
            
  <div class="section" id="indexing-attachments">
<h1>Indexing attachments<a class="headerlink" href="#indexing-attachments" title="Permalink to this headline">¶</a></h1>
<p>In addition to Drupal nodes, Acquia Search results presented to your users can include files that contain matches to the search query. File formats that can be indexed include HTML, XML, Microsoft Office documents, OpenDocument, PDF, RTF, <code class="docutils literal"><span class="pre">.zip</span></code>, and other compression formats, text formats, audio formats, video formats, and more. For a complete list of supported document formats, see the <a class="reference external" href="http://tika.apache.org/1.10/formats.html">Apache Tika documentation</a>.</p>
<p>Search results for attached files display a direct link to the attached file as well as the node to which it is attached:</p>
<p><img alt="Attachments in search results" src="https://cdn3.webdamdb.com/md_cnEpXSxh9QQ3.png?1527793736" /></p>
<p>Searching file attachments requires the Apache Solr Attachments module. The Apache Solr Attachments module uses the <a class="reference external" href="http://tika.apache.org">Apache Tika Content Analysis Toolkit</a> to detect and extract meta data and structured text content from a wide variety of file formats. Once extracted, this information is indexed and available to your users via Acquia Search.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li>Ensure that the most recent versions of your <a class="reference external" href="/acquia-search/modules">modules</a> are in use. If you use older
versions, you may experience problems with extracting attachments.</li>
<li>Drupal 8 requires that you install a patch, available from the
following <a class="reference external" href="https://www.drupal.org/node/2696901#comment-11906929">Drupal.org
posting</a>.</li>
</ul>
</div>
<div class="section" id="installing-the-apache-solr-attachments-module">
<h2>Installing the Apache Solr Attachments module<a class="headerlink" href="#installing-the-apache-solr-attachments-module" title="Permalink to this headline">¶</a></h2>
<p>To index attachments, complete the following steps:</p>
<ol class="arabic simple">
<li>Install and enable the <a class="reference external" href="https://www.drupal.org/project/apachesolr_attachments">Apache Solr
Attachments</a>
module on your website.</li>
<li>Go to the <strong>Apache Solr search &gt; Configuration &gt; Default Index</strong>
page.</li>
<li>In the <strong>Configuration</strong> section, select the <strong>File</strong> check box as an
entity to be indexed.</li>
<li>Click <strong>Save</strong>.</li>
</ol>
<p><img alt="Select the data to index" src="https://cdn3.webdamdb.com/md_2gzSFhCd5M82.png?1527793648" /></p>
<p>The Apache Solr Search configuration page now displays the Attachments
tab. Use the settings on this tab to configure the file attachment
indexing settings.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The Apache Solr Attachments module is compatible only with Apache Solr
Search. If you are using the Search API module, you can use the <a class="reference external" href="https://www.drupal.org/project/search_api_attachments">Search
API attachments
module</a> instead.
<a class="reference external" href="/acquia-search/modules/attachments">Configure it</a> to work with
Acquia Search. Be sure to use version 7.x-1.4 or later; earlier
versions of the Search API attachments module are not compatible with
Acquia Search.</p>
</div>
</div>
<div class="section" id="configuring-file-attachment-index-settings">
<h2>Configuring file attachment index settings<a class="headerlink" href="#configuring-file-attachment-index-settings" title="Permalink to this headline">¶</a></h2>
<p>The Attachments tab of the Apache Solr Search configuration page
contains the following configuration options for indexing attachments in
Apache Solr Search:</p>
<p><img alt="Search file attachments configuration tab" class="shadow bord" src="https://cdn4.webdamdb.com/md_g4hWxKHA72C7.png?1527793652" /></p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="5%" />
<col width="15%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">&#160;</th>
<th class="head">Item</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>1</td>
<td><strong>Excluded file extensions</strong></td>
<td>A space-separated list of file extensions that are excluded from
indexing. Modify this list to suit the needs of your site. Extensions are
internally mapped to a MIME type, so it is not necessary to include
variations that map to the same type. For example, <code class="docutils literal"><span class="pre">tif</span></code> is sufficient
to exclude both the <code class="docutils literal"><span class="pre">tif</span></code> and <code class="docutils literal"><span class="pre">tiff</span></code> file extensions.</td>
</tr>
<tr class="row-odd"><td>2</td>
<td><strong>Extract using</strong></td>
<td>Acquia Search includes Apache Tika for indexing documents. For
best performance, select <strong>Solr (remote server)</strong>.</td>
</tr>
<tr class="row-even"><td>3</td>
<td><strong>Tika directory</strong></td>
<td>Leave this blank.</td>
</tr>
<tr class="row-odd"><td>4</td>
<td><strong>Tika jar file</strong></td>
<td>Leave this set to the default value.</td>
</tr>
</tbody>
</table>
<div class="section" id="index-and-cache-controls">
<h3>Index and cache controls<a class="headerlink" href="#index-and-cache-controls" title="Permalink to this headline">¶</a></h3>
<p>File attachments get indexed at the same time as their parent entities.
Under <strong>Actions</strong>, you can:</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="30%" />
<col width="70%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Action</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><strong>Clear the attachment text extraction cache</strong></td>
<td>Clears all extracted data.</td>
</tr>
<tr class="row-odd"><td><strong>Delete the attachments from index</strong></td>
<td>Deletes all the attached files on your site from the Acquia Search
index. You need to do this if you change what types of files should be
indexed, if your search index becomes corrupted, or if you install a
new <code class="docutils literal"><span class="pre">schema.xml</span></code>.</td>
</tr>
<tr class="row-even"><td><strong>Test your tika extraction</strong></td>
<td>Tests if your Tika configuration settings work.</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>


        
    </div>
</div>

    
<div class="row">
    <div class="small-4 large-3 columns"></div>
    <div id="relinks" class="small-8 large-9 columns">
        <div class="pagination-wrapper">
            <div class="prev">
                <a href="../indexing.html" title="Indexing your website"><b>‹&nbsp;</b>Indexing your website</a>
            </div>
            
            <div class="next">
                <a href="index-reports.html" title="Search index reports">Search index reports<b>&nbsp;›</b></a>
            </div>
            
        </div>
    </div>
</div>



    
<div class="assistance-wrapper">
	<div class="assistance-tbl">
		<div class="col">
			<p><img src="/_static/phone.png" alt="Contact support">Still need assistance? <strong><a href="https://docs.acquia.com/support">Contact Acquia Support</a></strong></p>
		</div>
	</div>
</div>
<div class="support">
	<div class="support-tbl">
		<div class="col left">
			<h2><a href="https://www.acquia.com/customer-success/acquia-global-support">Support</a></h2>
			<ul class="no-bullet">
				<li><a class="light-link" href="https://www.acquia.com/support">Contact Support</a></li>
			</ul>
		</div>
		<div class="col middle">
			<h2><a href="https://www.acquia.com/about-us">About Acquia</a></h2>
			<ul class="no-bullet">
				<li><a class="light-link" href="https://www.acquia.com/about-us">About Us</a></li>
				<li><a class="light-link" href="https://www.acquia.com/about-us/leadership">Leadership</a></li>
				<li><a class="light-link" href="https://www.acquia.com/about-us/board">Board of Directors</a></li>
				<li><a class="light-link" href="https://www.acquia.com/investors">Investors</a></li>
				<li><a class="light-link" href="https://www.acquia.com/about-us/newsroom">Newsroom</a></li>
				<li><a class="light-link" href="https://www.acquia.com/careers">Careers</a></li>
				<li><a class="light-link" href="https://www.acquia.com/about-us/contact">Contact Us</a></li>
			</ul>
			<ul class="social-media">
				<li>
					<a class="fa fa-twitter fa-lg ext" href="https://twitter.com/acquia" target="_blank" rel="nofollow">
						<span class="hide">Twitter</span>
					</a>
				</li>
				<li>
					<a class="fa fa-facebook fa-lg ext" href="https://www.facebook.com/acquia" target="_blank" rel="nofollow">
						<span class="hide">Facebook</span>
					</a>
				</li>
				<li>
					<a class="fa fa-github-alt fa-lg ext" href="https://github.com/acquia" target="_blank" rel="nofollow">
						<span class="hide">Github</span>
					</a>
				</li>
				<li>
					<a class="fa fa-linkedin-in fa-lg ext" href="http://www.linkedin.com/company/167056" target="_blank" rel="nofollow">
						<span class="hide">LinkedIn</span>
					</a>
				</li>
				<li>
					<a class="fa fa-google-plus-g fa-lg ext" href="https://plus.google.com/+acquia" target="_blank" rel="nofollow">
						<span class="hide">Google+</span>
					</a>
				</li>
				<li>
					<a class="fa fa-play fa-lg ext" href="https://www.youtube.com/user/AcquiaTV" target="_blank" rel="nofollow">
						<span class="hide">YouTube</span>
					</a>
				</li>
				<li>
					<a class="fa fa-envelope fa-lg" href="https://www.acquia.com/about-us/contact">
						<span class="hide">Contact Us</span>
					</a>
				</li>
			</ul>
		</div>
		<div class="col right">
			<div class="centered">
				<p>
					<img alt="Acquia: Think Ahead" src="/_static/acquia-logo-think-ahead-black-small.svg">
				</p>
				<p class="margin-left-half">
					<span>53 State Street, 10th Floor<br>
					Boston, MA 02109<br>
					United States<br>
					Phone: 888-922-7842</span><br>
					Map: <a class="decorate ext" href="http://maps.google.com/?q=42.358429+-71.056184+%2853+State+Street%2C+10th+Floor%2C+Boston%2C+MA%2C+02109%2C+us%29" target="_blank" rel="nofollow">Google Maps<span class="ext"><span class="element-invisible"> </span></span></a><br><a class="decorate" href="https://www.acquia.com/about-us/contact#block-views-locations-block-1">View other locations</a>
				</p>
			</div>
		</div>
	</div>
</div>
<div class="top-bar row column">
	<div class="footer" role="contentinfo">Copyright &copy 2018 Acquia Inc. All Rights Reserved. </br>Drupal is a registered trademark of <a href="https://dri.es/">Dries Buytaert</a>. All product names, logos, and brands are property of their respective owners.
    </div>
</div>
    </div>

    <script> $(document).foundation() </script>
    <script type="text/javascript">
      (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
      (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
      e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
      })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

      _st('install','2_Wi1aQvEeu61haxG8TX','2.0.0');
    </script>

  </body>
</html>