
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Acquia Cloud Edge &#8212; Acquia Help Center</title>
    <link rel="stylesheet" href="_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/custom.css" type="text/css" />
    <link rel="stylesheet" href="_static/foundation-sphinx.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.0.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="_static/what-input/what-input.min.js"></script>
    <script type="text/javascript" src="_static/foundation-sites/foundation.min.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Defending your website against attacks" href="edge/attack.html" />
    <link rel="prev" title="Working with teams" href="acquia-cloud/teams/teams.html" /> 
  </head>
  <body>

    
<header>
<div class="topbar">
    <div class="col left">
        <a href="/" title="Acquia Help Center Home" class="logo">Acquia Help Center</a>
    </div>
    <div class="col right">
      <ul class="main-nav">
        <li>
          <a href="https://www.acquia.com" title="Go to www.acquia.com for our latest information.">Acquia.com</a>
        </li>
        <li>
            <a href="https://dev.acquia.com" title="Acquia's Developer Center: developers.acquia.com">Developers</a>
        </li>
        <li>
            <a href="https://training.acquia.com" title="Go to training.acquia.com to find out about courses and certifications.">Training</a>
        </li>
        <li>
            <a href="/site-search" data-drupal-link-system-path="site-search">Search</a>
        </li>
      </ul>
    </div>
</div>
<div class="bottombar">
    <div class="searchbar-wrapper">
        <form action="search.html" method="get" class="searchbar">
            <div class="search-title">Need help finding something? <strong>Start Here.</strong></div>
            <div class="search-box">
                <input type="search" name="q" maxlength="128" size="15" value="" class="st-default-search-input">
                <input type="hidden" name="check_keywords" value="yes">
                <input type="hidden" name="area" value="default">
            </div>
            <div class="search-btn">
                <input class="btn-search button" type="submit" id="edit-submit-acquia-search" value="Search Docs">
            </div>
        </form>
    </div>
	</div>
</header>



    
<div class="breadcrumbs-wrapper">
	<ul>
        
        <li><a href="index.html">Home</a></li>
        
        <li class="current">Acquia Cloud Edge</li>
	</ul>
</div>


<div class="row">
    
        
  <div class="small-4 large-3 columns" id="sidebar" data-sticky-container>
      <div class="sticky" data-sticky data-margin-top="0"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="acquia-cloud.html">Acquia Cloud</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Acquia Cloud Edge</a><ul>
<li class="toctree-l2"><a class="reference internal" href="edge/attack.html">Defending your website against attacks</a></li>
<li class="toctree-l2"><a class="reference internal" href="edge/page-rules.html">Page Rules</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="shield.html">Acquia Cloud Shield</a></li>
<li class="toctree-l1"><a class="reference internal" href="site-factory.html">Acquia Cloud Site Factory</a></li>
<li class="toctree-l1"><a class="reference internal" href="commerce.html">Acquia Commerce Manager</a></li>
<li class="toctree-l1"><a class="reference internal" href="dam.html">Acquia DAM</a></li>
<li class="toctree-l1"><a class="reference internal" href="dev-desktop.html">Acquia Dev Desktop</a></li>
<li class="toctree-l1"><a class="reference internal" href="journey.html">Acquia Journey</a></li>
<li class="toctree-l1"><a class="reference internal" href="lift.html">Acquia Lift</a></li>
<li class="toctree-l1"><a class="reference internal" href="api.html">Acquia Platform APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="acquia-search.html">Acquia Search</a></li>
<li class="toctree-l1"><a class="reference internal" href="devtools.html">Developer tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="lightning.html">Lightning</a></li>
<li class="toctree-l1"><a class="reference internal" href="support.html">Acquia Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="ra.html">Remote Administration</a></li>
<li class="toctree-l1"><a class="reference internal" href="resource.html">Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorials.html">Acquia Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="guide.html">Products and Services Guide</a></li>
</ul>

      </div>
  </div>
    
    <div id="content" class="small-8 large-9 columns">
        
            
  <div class="section" id="acquia-cloud-edge">
<h1>Acquia Cloud Edge<a class="headerlink" href="#acquia-cloud-edge" title="Permalink to this headline">¶</a></h1>
<div class="toctree-wrapper compound">
</div>
<div class="message-status docutils container">
Available only to <a class="reference external" href="/acquia-cloud">Acquia Cloud Enterprise</a> and <a class="reference external" href="/site-factory">Acquia Cloud Site Factory</a> subscribers</div>
<p>Acquia Cloud Edge consists of two products that are available for Acquia Cloud Enterprise and Acquia Cloud Site Factory subscriptions:</p>
<ul class="simple">
<li>Acquia Cloud Edge Protect – Secures your application with protection against distributed denial of service (DDOS) attacks, a Web Application Firewall (WAF), and high-speed DNS. Acquia Cloud Edge Protect examines web traffic looking for suspicious activity.</li>
<li>Acquia Cloud Edge CDN – Provides a globally load balanced content delivery network (CDN) so that visitors interact with your application at the fastest possible speeds, no matter where on the globe they are located.</li>
</ul>
<p>Acquia Cloud Edge Protect and Acquia Cloud Edge CDN can be purchased and used together or separately.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Acquia Cloud Edge CDN does not currently support:</p>
<ul class="last simple">
<li><a class="reference external" href="https://blog.cloudflare.com/protecting-the-origin-with-tls-authenticated-origin-pulls/">Authenticated Origin Pulls</a></li>
<li><a class="reference external" href="https://www.cloudflare.com/website-optimization/railgun/">Railgun</a></li>
<li><a class="reference external" href="https://www.cloudflare.com/website-optimization/mirage/">Mirage</a></li>
<li><a class="reference external" href="https://www.cloudflare.com/website-optimization/">Rocket Loader</a></li>
</ul>
</div>
<p>Configuration options for these features appear in the Acquia Cloud Edge administration user interface, but are not supported by Acquia.</p>
<div class="section" id="setting-up-acquia-cloud-edge">
<span id="setup"></span><h2>Setting up Acquia Cloud Edge<a class="headerlink" href="#setting-up-acquia-cloud-edge" title="Permalink to this headline">¶</a></h2>
<p>To add Acquia Cloud Edge Protect or Acquia Cloud Edge CDN to your Acquia Cloud Enterprise or Acquia Cloud Site Factory subscription, contact your account manager at Acquia. Acquia will set up and support Acquia Cloud Edge for you.</p>
<p>You can then use the Acquia Cloud Edge web user interface to manage the service for your domains.</p>
</div>
<div class="section" id="accessing-acquia-cloud-edge">
<span id="access"></span><h2>Accessing Acquia Cloud Edge<a class="headerlink" href="#accessing-acquia-cloud-edge" title="Permalink to this headline">¶</a></h2>
<p>To access the Acquia Cloud Edge web user interface, <a class="reference external" href="https://www.cloudflare.com/a/login">sign in to Cloudflare</a> using the email address and password provided for your Acquia Cloud Edge account by Acquia.</p>
<p>For more information about how to use Acquia Cloud Edge after it is set up, see the <a class="reference external" href="https://support.cloudflare.com/hc/en-us">CloudFlare knowledge base</a>.</p>
</div>
<div class="section" id="testing-acquia-cloud-edge">
<span id="test"></span><h2>Testing Acquia Cloud Edge<a class="headerlink" href="#testing-acquia-cloud-edge" title="Permalink to this headline">¶</a></h2>
<p>You can test Acquia Cloud Edge by editing your <code class="docutils literal"><span class="pre">/etc/hosts</span></code> file to point your domain to the CloudFlare IP address for the domain. To do this, complete the following steps:</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Domains that are protected by Acquia Cloud Edge must use a CNAME instead of an A record. If you use CNAME integration with Acquia Cloud Edge, you must handle the termination of the apex (root) domain, and the redirect of subdomains such as the <code class="docutils literal"><span class="pre">www</span></code> subdomain must be handled outside of Acquia.</p>
</div>
<ol class="arabic">
<li><p class="first">Find the IP address of the subdomain to be routed through Acquia Cloud Edge using a command similar to the following:</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>dig [domain_name].cdn.cloudflare.net
</pre></div>
</div>
<p>where <code class="docutils literal"><span class="pre">[domain_name]</span></code> is your fully qualified domain name. <br/>
For example, if your domain name is <code class="docutils literal"><span class="pre">test.example.com</span></code>, the command would be:</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>dig test.example.com.cdn.cloudflare.net
</pre></div>
</div>
<p>The response will appear similar to these results:</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>; &lt;&lt;&gt;&gt; DiG 9.8.3-P1 &lt;&lt;&gt;&gt; test.example.com.cdn.cloudflare.net
;; global options: +cmd
;; Got answer:
;; -&gt;&gt;HEADER&lt;&lt;- opcode: QUERY, status: NOERROR, id: 64242
;; flags: qr rd ra; QUERY: 1, ANSWER: 5, AUTHORITY: 0, ADDITIONAL: 0
;; QUESTION SECTION:
;test.example.com.cdn.cloudflare.net. IN A

;; ANSWER SECTION:
test.example.com.cdn.cloudflare.net. 300 IN A 111.22.33.44
test.example.com.cdn.cloudflare.net. 300 IN A 111.22.34.44
test.example.com.cdn.cloudflare.net. 300 IN A 111.22.35.44
test.example.com.cloudflare.net. 300 IN A 111.22.36.44
test.example.com.cdn.cloudflare.net. 300 IN A 111.22.37.44
</pre></div>
</div>
</li>
<li><p class="first">Select one of the IP addresses in the <code class="docutils literal"><span class="pre">ANSWER</span> <span class="pre">SECTION</span></code> of the <code class="docutils literal"><span class="pre">dig</span></code> response.</p>
</li>
<li><p class="first">Edit your <code class="docutils literal"><span class="pre">/etc/hosts</span></code> file to add a line based on the following format, using the IP address and your domain name:</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>111.22.33.44 test.example.com
</pre></div>
</div>
<p>For information about how to edit your <code class="docutils literal"><span class="pre">/etc/hosts</span></code> file, see the <a class="reference external" href="https://knowledge.acquia.com/using-etchosts-file-custom-domains-during-development">Using an /etc/hosts file for custom domains during development</a> knowledgebase article.</p>
</li>
<li><p class="first">Enter the domain name in your browser and examine the page response headers.</p>
</li>
</ol>
<p>If Acquia Cloud Edge is functioning properly, you will see that the page response headers include a <code class="docutils literal"><span class="pre">cf-ray</span></code> header.</p>
</div>
<div class="section" id="confirm-that-traffic-is-going-through-acquia-cloud-edge">
<span id="traffic"></span><h2>Confirm that traffic is going through Acquia Cloud Edge<a class="headerlink" href="#confirm-that-traffic-is-going-through-acquia-cloud-edge" title="Permalink to this headline">¶</a></h2>
<p>The first step in testing a site with Acquia Cloud Edge is ensuring that requests to the website are being sent through the Edge network. This can be done in one of two ways:</p>
<ul>
<li><p class="first"><em>Using the browser address bar</em> <br/>
Enter <code class="docutils literal"><span class="pre">www.example.com/cdn-cgi/trace</span></code> in any browser, where <code class="docutils literal"><span class="pre">www.example.com</span></code> is the domain you are testing. The response will show details similar to the following:</p>
<div class="code highlight-default"><div class="highlight"><pre><span></span><span class="n">fl</span><span class="o">=</span><span class="mi">4</span><span class="n">f64</span>
<span class="n">h</span><span class="o">=</span><span class="n">www</span><span class="o">.</span><span class="n">camilia</span><span class="o">.</span><span class="n">me</span>
<span class="n">ip</span><span class="o">=</span><span class="mf">108.162</span><span class="o">.</span><span class="mf">209.36</span>
<span class="n">ts</span><span class="o">=</span><span class="mf">1437437272.84</span>
<span class="n">visit_scheme</span><span class="o">=</span><span class="n">http</span>
<span class="n">uag</span><span class="o">=</span><span class="n">Mozilla</span><span class="o">/</span><span class="mf">5.0</span> <span class="p">(</span><span class="n">Macintosh</span><span class="p">;</span> <span class="n">Intel</span> <span class="n">Mac</span> <span class="n">OS</span> <span class="n">X</span> <span class="mi">10_10_3</span><span class="p">)</span> <span class="n">AppleWebKit</span><span class="o">/</span><span class="mf">537.36</span> <span class="p">(</span><span class="n">KHTML</span><span class="p">,</span> <span class="n">like</span> <span class="n">Gecko</span><span class="p">)</span> <span class="n">Chrome</span><span class="o">/</span><span class="mf">43.0</span><span class="o">.</span><span class="mf">2357.134</span> <span class="n">Safari</span><span class="o">/</span><span class="mf">537.36</span>
<span class="n">colo</span><span class="o">=</span><span class="n">SJC</span>
<span class="n">spdy</span><span class="o">=</span><span class="n">off</span>
</pre></div>
</div>
<p>This response identifies that the request was processed by the Edge network.</p>
</li>
<li><p class="first"><em>Using the Claire plugin for Chrome</em> <br/>
The <a class="reference external" href="https://chrome.google.com/webstore/detail/claire/fgbpcgddpmjmamlibbaobboigaijnmkl?hl=en-US">Claire plugin</a> is a free download that you can get from the Chrome web store. <br/>
After you install the plugin, any website that you access through the Edge network will cause the plugin to display an orange cloud icon in the Chrome address bar. This provides a visual indicator the request was processed by the Edge network. <br/>
If you do not see the expected results, then the domain is not yet correctly configured for Acquia Cloud Edge. Confirm that the DNS configurations have been made correctly.</p>
</li>
</ul>
</div>
<div class="section" id="acquia-cloud-edge-and-https-ssl">
<span id="ssl"></span><h2>Acquia Cloud Edge and HTTPS (SSL)<a class="headerlink" href="#acquia-cloud-edge-and-https-ssl" title="Permalink to this headline">¶</a></h2>
<p>Acquia Cloud Edge CDN and Acquia Cloud Edge Protect include a single SAN certificate per domain that covers the bare domain and wildcard third-level domains. If you want to use your own custom SSL certificates with Acquia Cloud Edge, you can upload the same certificate that you use on Acquia Cloud to Acquia Cloud Edge. If you do this and you change or rekey your SSL certificate, you must apply the updated or new certificate to both Acquia Cloud and Acquia Cloud Edge to maintain consistency and simplify support.</p>
<div class="admonition-note-for-china-and-https-usage admonition">
<p class="first admonition-title">Note for China and HTTPS usage</p>
<p class="last">If you anticipate having visitors that will both use HTTPS and are based in China, Cloudflare <a class="reference external" href="https://www.cloudflare.com/network/china/">requires</a> that you place your private SSL keys in their China data centers.</p>
</div>
<div class="section" id="timeouts">
<span id="timeout"></span><h3>Timeouts<a class="headerlink" href="#timeouts" title="Permalink to this headline">¶</a></h3>
<p>Acquia Cloud Edge typically waits 100 seconds for a response from your backend (origin) servers before timing out. If a response has not been received from your origin server after 100 seconds, the connection is closed and an <code class="docutils literal"><span class="pre">Error</span> <span class="pre">524:</span> <span class="pre">A</span> <span class="pre">timeout</span> <span class="pre">occurred</span></code> will be served. Long-running processes, such as report generation, may trigger this error.</p>
<p>Acquia Cloud Enterprise customers can request a timeout increase to a maximum of 600 seconds. Alternately, the application should be modified to return HTTP responses in the time limit.</p>
</div>
</div>
<div class="section" id="traffic-throttling">
<span id="throttle"></span><h2>Traffic throttling<a class="headerlink" href="#traffic-throttling" title="Permalink to this headline">¶</a></h2>
<p>Rate limiting of traffic is available as an add-on feature for Acquia Cloud Edge Protect subscribers. If you need to throttle responses from a given IP for a specified amount of time, contact your Acquia account manager for additional details.</p>
</div>
<div class="section" id="logs-and-log-sharing">
<span id="log-sharing"></span><h2>Logs and Log sharing<a class="headerlink" href="#logs-and-log-sharing" title="Permalink to this headline">¶</a></h2>
<p>Acquia Cloud Edge supports log sharing, which enables subscribers to access web log data on a per-domain basis. These logs can be forwarded for aggregation and analysis.</p>
<p>Audit logs for Acquia Cloud Edge are retained for eighteen months. Access logs are retained for three days. These logs are accessible to the customer using the Cloudflare API.</p>
</div>
<div class="section" id="always-online">
<span id="always-on"></span><h2>Always online<a class="headerlink" href="#always-online" title="Permalink to this headline">¶</a></h2>
<p>Acquia Cloud Edge does not support the Always Online feature.</p>
</div>
</div>


        
    </div>
</div>

    
<div class="row">
    <div class="small-4 large-3 columns"></div>
    <div id="relinks" class="small-8 large-9 columns">
        <div class="pagination-wrapper">
            <div class="prev">
                <a href="acquia-cloud/teams/teams.html" title="Working with teams"><b>‹&nbsp;</b>Working with teams</a>
            </div>
            
            <div class="next">
                <a href="edge/attack.html" title="Defending your website against attacks">Defending your website against attacks<b>&nbsp;›</b></a>
            </div>
            
        </div>
    </div>
</div>



    
<div class="assistance-wrapper">
	<div class="assistance-tbl">
		<div class="col">
			<p><img src="/_static/phone.png" alt="Contact support">Still need assistance? <strong><a href="https://docs.acquia.com/support">Contact Acquia Support</a></strong></p>
		</div>
	</div>
</div>
<div class="support">
	<div class="support-tbl">
		<div class="col left">
			<h2><a href="https://www.acquia.com/customer-success/acquia-global-support">Support</a></h2>
			<ul class="no-bullet">
				<li><a class="light-link" href="https://www.acquia.com/support">Contact Support</a></li>
			</ul>
		</div>
		<div class="col middle">
			<h2><a href="https://www.acquia.com/about-us">About Acquia</a></h2>
			<ul class="no-bullet">
				<li><a class="light-link" href="https://www.acquia.com/about-us">About Us</a></li>
				<li><a class="light-link" href="https://www.acquia.com/about-us/leadership">Leadership</a></li>
				<li><a class="light-link" href="https://www.acquia.com/about-us/board">Board of Directors</a></li>
				<li><a class="light-link" href="https://www.acquia.com/investors">Investors</a></li>
				<li><a class="light-link" href="https://www.acquia.com/about-us/newsroom">Newsroom</a></li>
				<li><a class="light-link" href="https://www.acquia.com/careers">Careers</a></li>
				<li><a class="light-link" href="https://www.acquia.com/about-us/contact">Contact Us</a></li>
			</ul>
			<ul class="social-media">
				<li>
					<a class="fa fa-twitter fa-lg ext" href="https://twitter.com/acquia" target="_blank" rel="nofollow">
						<span class="hide">Twitter</span>
					</a>
				</li>
				<li>
					<a class="fa fa-facebook fa-lg ext" href="https://www.facebook.com/acquia" target="_blank" rel="nofollow">
						<span class="hide">Facebook</span>
					</a>
				</li>
				<li>
					<a class="fa fa-github-alt fa-lg ext" href="https://github.com/acquia" target="_blank" rel="nofollow">
						<span class="hide">Github</span>
					</a>
				</li>
				<li>
					<a class="fa fa-linkedin-in fa-lg ext" href="http://www.linkedin.com/company/167056" target="_blank" rel="nofollow">
						<span class="hide">LinkedIn</span>
					</a>
				</li>
				<li>
					<a class="fa fa-google-plus-g fa-lg ext" href="https://plus.google.com/+acquia" target="_blank" rel="nofollow">
						<span class="hide">Google+</span>
					</a>
				</li>
				<li>
					<a class="fa fa-play fa-lg ext" href="https://www.youtube.com/user/AcquiaTV" target="_blank" rel="nofollow">
						<span class="hide">YouTube</span>
					</a>
				</li>
				<li>
					<a class="fa fa-envelope fa-lg" href="https://www.acquia.com/about-us/contact">
						<span class="hide">Contact Us</span>
					</a>
				</li>
			</ul>
		</div>
		<div class="col right">
			<div class="centered">
				<p>
					<img alt="Acquia: Think Ahead" src="/_static/acquia-logo-think-ahead-black-small.svg">
				</p>
				<p class="margin-left-half">
					<span>53 State Street, 10th Floor<br>
					Boston, MA 02109<br>
					United States<br>
					Phone: 888-922-7842</span><br>
					Map: <a class="decorate ext" href="http://maps.google.com/?q=42.358429+-71.056184+%2853+State+Street%2C+10th+Floor%2C+Boston%2C+MA%2C+02109%2C+us%29" target="_blank" rel="nofollow">Google Maps<span class="ext"><span class="element-invisible"> </span></span></a><br><a class="decorate" href="https://www.acquia.com/about-us/contact#block-views-locations-block-1">View other locations</a>
				</p>
			</div>
		</div>
	</div>
</div>
<div class="top-bar row column">
	<div class="footer" role="contentinfo">Copyright &copy 2018 Acquia Inc. All Rights Reserved. </br>Drupal is a registered trademark of <a href="https://dri.es/">Dries Buytaert</a>. All product names, logos, and brands are property of their respective owners.
    </div>
</div>
    </div>

    <script> $(document).foundation() </script>
    <script type="text/javascript">
      (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
      (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
      e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
      })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

      _st('install','2_Wi1aQvEeu61haxG8TX','2.0.0');
    </script>

  </body>
</html>