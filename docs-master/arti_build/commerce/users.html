
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Managing users with Acquia Commerce Manager &#8212; Acquia Help Center</title>
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <link rel="stylesheet" href="../_static/foundation-sphinx.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.0.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../_static/what-input/what-input.min.js"></script>
    <script type="text/javascript" src="../_static/foundation-sites/foundation.min.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Known issues in Acquia Commerce Manager" href="known-issues.html" />
    <link rel="prev" title="Using coupons with Acquia Commerce Manager" href="checkout/coupons.html" /> 
  </head>
  <body>

    
<header>
<div class="topbar">
    <div class="col left">
        <a href="/" title="Acquia Help Center Home" class="logo">Acquia Help Center</a>
    </div>
    <div class="col right">
      <ul class="main-nav">
        <li>
          <a href="https://www.acquia.com" title="Go to www.acquia.com for our latest information.">Acquia.com</a>
        </li>
        <li>
            <a href="https://dev.acquia.com" title="Acquia's Developer Center: developers.acquia.com">Developers</a>
        </li>
        <li>
            <a href="https://training.acquia.com" title="Go to training.acquia.com to find out about courses and certifications.">Training</a>
        </li>
        <li>
            <a href="/site-search" data-drupal-link-system-path="site-search">Search</a>
        </li>
      </ul>
    </div>
</div>
<div class="bottombar">
    <div class="searchbar-wrapper">
        <form action="search.html" method="get" class="searchbar">
            <div class="search-title">Need help finding something? <strong>Start Here.</strong></div>
            <div class="search-box">
                <input type="search" name="q" maxlength="128" size="15" value="" class="st-default-search-input">
                <input type="hidden" name="check_keywords" value="yes">
                <input type="hidden" name="area" value="default">
            </div>
            <div class="search-btn">
                <input class="btn-search button" type="submit" id="edit-submit-acquia-search" value="Search Docs">
            </div>
        </form>
    </div>
	</div>
</header>



    
<div class="breadcrumbs-wrapper">
	<ul>
        
        <li><a href="../index.html">Home</a></li>
        
        <li><a href="../commerce.html" accesskey="U">Acquia Commerce Manager</a></li>
        <li class="current">Managing users with Acquia Commerce Manager</li>
	</ul>
</div>


<div class="row">
    
        
  <div class="small-4 large-3 columns" id="sidebar" data-sticky-container>
      <div class="sticky" data-sticky data-margin-top="0"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../acquia-cloud.html">Acquia Cloud</a></li>
<li class="toctree-l1"><a class="reference internal" href="../edge.html">Acquia Cloud Edge</a></li>
<li class="toctree-l1"><a class="reference internal" href="../shield.html">Acquia Cloud Shield</a></li>
<li class="toctree-l1"><a class="reference internal" href="../site-factory.html">Acquia Cloud Site Factory</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../commerce.html">Acquia Commerce Manager</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="release-notes.html">Release notes - Acquia Commerce Manager</a></li>
<li class="toctree-l2"><a class="reference internal" href="install.html">Installing Acquia Commerce Manager and components</a></li>
<li class="toctree-l2"><a class="reference internal" href="terms.html">Acquia Commerce Manager terminology and fields</a></li>
<li class="toctree-l2"><a class="reference internal" href="configuration.html">Acquia Commerce Manager configuration settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="categories-products.html">Adding categories and products to Acquia Commerce Manager</a></li>
<li class="toctree-l2"><a class="reference internal" href="cart.html">Handling your Acquia Commerce Manager cart</a></li>
<li class="toctree-l2"><a class="reference internal" href="checkout.html">Checkout and payment methods</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Managing users with Acquia Commerce Manager</a></li>
<li class="toctree-l2"><a class="reference internal" href="known-issues.html">Known issues in Acquia Commerce Manager</a></li>
<li class="toctree-l2"><a class="reference internal" href="troubleshooting.html">Troubleshooting Acquia Commerce Manager</a></li>
<li class="toctree-l2"><a class="reference internal" href="security.html">Acquia Commerce Manager security</a></li>
<li class="toctree-l2"><a class="reference internal" href="multilingual.html">Multilingual Acquia Commerce Manager</a></li>
<li class="toctree-l2"><a class="reference internal" href="promotions.html">Acquia Commerce Manager Promotions</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html">Acquia Commerce Manager API</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../dam.html">Acquia DAM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev-desktop.html">Acquia Dev Desktop</a></li>
<li class="toctree-l1"><a class="reference internal" href="../journey.html">Acquia Journey</a></li>
<li class="toctree-l1"><a class="reference internal" href="../lift.html">Acquia Lift</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api.html">Acquia Platform APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../acquia-search.html">Acquia Search</a></li>
<li class="toctree-l1"><a class="reference internal" href="../devtools.html">Developer tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../lightning.html">Lightning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../support.html">Acquia Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ra.html">Remote Administration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../resource.html">Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials.html">Acquia Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guide.html">Products and Services Guide</a></li>
</ul>

      </div>
  </div>
    
    <div id="content" class="small-8 large-9 columns">
        
            
  <div class="section" id="managing-users-with-acquia-product-acm">
<h1>Managing users with Acquia Commerce Manager<a class="headerlink" href="#managing-users-with-acquia-product-acm" title="Permalink to this headline">¶</a></h1>
<p>When using Acquia Commerce Manager, the commerce solution can be used both
as a customer repository and as an authentication service. A local copy
of the user is stored in Drupal, and after every update, the user’s
information is pushed to the commerce solution. Drupal will send emails
to users based on user management issues; these are the only emails it
will send.</p>
<p>Users that are authenticated can browse their list of orders. These
orders are stored in the commerce solution and are retrieved on demand.
Everything related to order management is done by the commerce solution,
including sending emails about orders to users.</p>
<div class="section" id="user-authentication">
<h2>User authentication<a class="headerlink" href="#user-authentication" title="Permalink to this headline">¶</a></h2>
<p>User authentication is handled by several components of the
Acquia Commerce Manager stack.</p>
<ul class="simple">
<li><em>HMAC</em> – Between Drupal and the Commerce Connector Service, and between the
Commerce Connector Service and your commerce solution (such as Magento).</li>
<li><em>OAuth</em> – The OAuth module handles the actual stream of
authentication.</li>
<li><em>User accounts</em> – These are handled in the following ways:<ul>
<li>Accounts are handled in Drupal and your commerce solution, but the
user only has contact with Drupal. Drupal then handles
authentication with the commerce solution. (Preferred)</li>
<li>The account is verified directly against the commerce solution.</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="customer-creation">
<h2>Customer Creation<a class="headerlink" href="#customer-creation" title="Permalink to this headline">¶</a></h2>
<p>If your user has an account in Drupal and your commerce solution, the
accounts will automatically be paired if they are using the same email
address. If they are not using the same email address, the store manager
can, for example, set the user’s <code class="docutils literal"><span class="pre">Magento</span> <span class="pre">ID</span></code> to their Drupal user,
which will also pair the accounts across both applications.</p>
<p>Customer accounts are tied to Drupal users. The commerce customer ID is
stored as a field on the user entity called <code class="docutils literal"><span class="pre">acq_customer_id</span></code>.
Customers can create orders and review order, profile, and addresses
from the commerce system.</p>
<div class="section" id="existing-customers-commerce-only">
<h3>Existing Customers (Commerce only)<a class="headerlink" href="#existing-customers-commerce-only" title="Permalink to this headline">¶</a></h3>
<p>When a customer already exists as a commerce customer, but not a Drupal
customer, creating a new order creates a Drupal account. Their commerce
customer ID will be linked to the Drupal user, using the email address
is used to match customers.</p>
<p>If a customer creates a new Drupal account, their account will not be
tied to the commerce account at that time and they will not be able to
see old orders until their account is linked.</p>
</div>
<div class="section" id="returning-customers-drupal">
<h3>Returning Customers (Drupal)<a class="headerlink" href="#returning-customers-drupal" title="Permalink to this headline">¶</a></h3>
<p>Customers who have previously created orders within Drupal will be
required to sign in to create additional orders. Because passwords are
not created during the first order, users must request a password reset
before signing in and proceeding with additional orders.</p>
<p>As a quick reference for creating users on your Drupal website, complete
the following steps:</p>
<ol class="arabic simple">
<li>Sign into your Drupal website as an administrator.</li>
<li>Click <strong>People</strong>.</li>
<li>Either click <strong>Add user</strong> to create a new user, or click <strong>Edit</strong>
next to an existing user to change that user’s information.</li>
<li>Manage user roles and permissions by clicking the <strong>Permissions</strong>
tab.</li>
<li>To change the process by which users apply for accounts, click
<strong>Configuration &gt; Account settings</strong>.</li>
</ol>
<p>For a more thorough description of the user creation and management
process in your Drupal website, see <a class="reference external" href="https://www.drupal.org/node/120614">Users, roles and
permissions</a> on Drupal.org.</p>
</div>
</div>
</div>


        
    </div>
</div>

    
<div class="row">
    <div class="small-4 large-3 columns"></div>
    <div id="relinks" class="small-8 large-9 columns">
        <div class="pagination-wrapper">
            <div class="prev">
                <a href="checkout/coupons.html" title="Using coupons with Acquia Commerce Manager"><b>‹&nbsp;</b>Using coupons with Acquia Commerce Manager</a>
            </div>
            
            <div class="next">
                <a href="known-issues.html" title="Known issues in Acquia Commerce Manager">Known issues in Acquia Commerce Manager<b>&nbsp;›</b></a>
            </div>
            
        </div>
    </div>
</div>



    
<div class="assistance-wrapper">
	<div class="assistance-tbl">
		<div class="col">
			<p><img src="/_static/phone.png" alt="Contact support">Still need assistance? <strong><a href="https://docs.acquia.com/support">Contact Acquia Support</a></strong></p>
		</div>
	</div>
</div>
<div class="support">
	<div class="support-tbl">
		<div class="col left">
			<h2><a href="https://www.acquia.com/customer-success/acquia-global-support">Support</a></h2>
			<ul class="no-bullet">
				<li><a class="light-link" href="https://www.acquia.com/support">Contact Support</a></li>
			</ul>
		</div>
		<div class="col middle">
			<h2><a href="https://www.acquia.com/about-us">About Acquia</a></h2>
			<ul class="no-bullet">
				<li><a class="light-link" href="https://www.acquia.com/about-us">About Us</a></li>
				<li><a class="light-link" href="https://www.acquia.com/about-us/leadership">Leadership</a></li>
				<li><a class="light-link" href="https://www.acquia.com/about-us/board">Board of Directors</a></li>
				<li><a class="light-link" href="https://www.acquia.com/investors">Investors</a></li>
				<li><a class="light-link" href="https://www.acquia.com/about-us/newsroom">Newsroom</a></li>
				<li><a class="light-link" href="https://www.acquia.com/careers">Careers</a></li>
				<li><a class="light-link" href="https://www.acquia.com/about-us/contact">Contact Us</a></li>
			</ul>
			<ul class="social-media">
				<li>
					<a class="fa fa-twitter fa-lg ext" href="https://twitter.com/acquia" target="_blank" rel="nofollow">
						<span class="hide">Twitter</span>
					</a>
				</li>
				<li>
					<a class="fa fa-facebook fa-lg ext" href="https://www.facebook.com/acquia" target="_blank" rel="nofollow">
						<span class="hide">Facebook</span>
					</a>
				</li>
				<li>
					<a class="fa fa-github-alt fa-lg ext" href="https://github.com/acquia" target="_blank" rel="nofollow">
						<span class="hide">Github</span>
					</a>
				</li>
				<li>
					<a class="fa fa-linkedin-in fa-lg ext" href="http://www.linkedin.com/company/167056" target="_blank" rel="nofollow">
						<span class="hide">LinkedIn</span>
					</a>
				</li>
				<li>
					<a class="fa fa-google-plus-g fa-lg ext" href="https://plus.google.com/+acquia" target="_blank" rel="nofollow">
						<span class="hide">Google+</span>
					</a>
				</li>
				<li>
					<a class="fa fa-play fa-lg ext" href="https://www.youtube.com/user/AcquiaTV" target="_blank" rel="nofollow">
						<span class="hide">YouTube</span>
					</a>
				</li>
				<li>
					<a class="fa fa-envelope fa-lg" href="https://www.acquia.com/about-us/contact">
						<span class="hide">Contact Us</span>
					</a>
				</li>
			</ul>
		</div>
		<div class="col right">
			<div class="centered">
				<p>
					<img alt="Acquia: Think Ahead" src="/_static/acquia-logo-think-ahead-black-small.svg">
				</p>
				<p class="margin-left-half">
					<span>53 State Street, 10th Floor<br>
					Boston, MA 02109<br>
					United States<br>
					Phone: 888-922-7842</span><br>
					Map: <a class="decorate ext" href="http://maps.google.com/?q=42.358429+-71.056184+%2853+State+Street%2C+10th+Floor%2C+Boston%2C+MA%2C+02109%2C+us%29" target="_blank" rel="nofollow">Google Maps<span class="ext"><span class="element-invisible"> </span></span></a><br><a class="decorate" href="https://www.acquia.com/about-us/contact#block-views-locations-block-1">View other locations</a>
				</p>
			</div>
		</div>
	</div>
</div>
<div class="top-bar row column">
	<div class="footer" role="contentinfo">Copyright &copy 2018 Acquia Inc. All Rights Reserved. </br>Drupal is a registered trademark of <a href="https://dri.es/">Dries Buytaert</a>. All product names, logos, and brands are property of their respective owners.
    </div>
</div>
    </div>

    <script> $(document).foundation() </script>
    <script type="text/javascript">
      (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
      (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
      e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
      })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

      _st('install','2_Wi1aQvEeu61haxG8TX','2.0.0');
    </script>

  </body>
</html>